<!DOCTYPE html><html lang="es" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Manejo de errores y registro de mensajes en Odoo">
      
      
        <meta name="author" content="Sergio Rey Mart铆nez">
      
      
        <link rel="canonical" href="https://sergio-apuntes.github.io/sge/6_4_excepciones_logs/">
      
      
        <link rel="prev" href="../6_3_campos_computados/">
      
      
        <link rel="next" href="../6_5_campos_computados_relacionales/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Excepciones y mensajes de log - Apuntes Sistemas de Gesti贸n Empresarial</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CDejaVu+Sans+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"DejaVu Sans Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#excepciones-y-mensajes-de-log" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Apuntes Sistemas de Gesti贸n Empresarial" class="md-header__button md-logo" aria-label="Apuntes Sistemas de Gesti贸n Empresarial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apuntes Sistemas de Gesti贸n Empresarial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Excepciones y mensajes de log
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange" aria-label="Cambiar a modo oscuro" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange" aria-label="Cambiar a modo claro" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="B煤squeda" placeholder="B煤squeda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando b煤squeda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegaci贸n" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Apuntes Sistemas de Gesti贸n Empresarial" class="md-nav__button md-logo" aria-label="Apuntes Sistemas de Gesti贸n Empresarial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>

    </a>
    Apuntes Sistemas de Gesti贸n Empresarial
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1">
        
          
          <div class="md-nav__link md-nav__container">
            <a href=".." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Presentaci贸n
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Presentaci贸n
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2">
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    1 ERP
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    1 ERP
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_1_IntroduccionERP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.1. Introducci贸n a la Gesti贸n Empresarial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_2_Sistemas_Informacion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.2. Inform谩tica en la Gesti贸n Empresarial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_3_Sistemas_Clave/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.3. Sistemas Clave en la Empresa
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_4_ERP_CRM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.4. ERP-CRM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_5_ERP_actuales/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.5. Historia y caracter铆sticas de los ERP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_6_ERP_Libres_Privativos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.6. Elecci贸n de ERP. Aspectos a tener en cuenta.
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_7_CRM_Actuales/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.7. CRM Actual
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_8_Modelos_Servicio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.8. Modelos de Servicio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_9_Terminolog%C3%ADa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.8. Terminolog铆a ERP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3">
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    2 Python
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    2 Python
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_1_IntroduccionPython/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introducci贸n a Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_2_ControlFlujo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Estructuras condicionales y control de flujo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_3_EstructurasDatos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Estructuras de datos o colecciones en Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_4_FuncionesExcepciones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Funciones y manejo de excepciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_5_ModulosPaquetes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gesti贸n de m贸dulos, paquetes y entornos virtuales
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_6_ProgramacionOrientadaObjetos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Programaci贸n Orientada a Objetos (POO)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4">
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    3 Git
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    3 Git
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_1_introduccion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introducci贸n a Git
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_2_ramas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ramas en Git
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_3_remotos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Repositorios remotos. Github.
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5">
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    4 Docker
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    4 Docker
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_1_introduccion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introducci贸n
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_2_docker_basico/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker b谩sico
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_3_imagenes_docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Im谩genes Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_4_redes_volumenes_docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redes y Vol煤menes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_5_docker_compose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Orquestaci贸n de contenedores con Docker Compose
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6">
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    5 Introducci贸n a Odoo
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    5 Introducci贸n a Odoo
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5_1_introduccion_odoo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introducci贸n a Odoo.
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5_2_instalacion_odoo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Instalaci贸n de Odoo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5_3_arquitectura_odoo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Arquitectura de Odoo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5_4_primer_modulo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Primer M贸dulo en Odoo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    6 Desarrollo m贸dulo ejemplo
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    6 Desarrollo m贸dulo ejemplo
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_1_creacion_modelo_basico/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creaci贸n de un modelo b谩sico, vistas, men煤s y actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_2_campos_basico_relacionales/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Campos b谩sicos y relacionales
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_3_campos_computados/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Campos computados
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Excepciones y mensajes de log
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Excepciones y mensajes de log
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#manejar-excepciones" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manejar Excepciones
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#excepciones-en-odoo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Excepciones en Odoo
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Excepciones en Odoo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tipos-de-excepciones-principales" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tipos de Excepciones Principales
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importar-excepciones" class="md-nav__link">
    <span class="md-ellipsis">
      
        Importar Excepciones
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejemplo-practico-validacion-en-campo-computado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ejemplo Pr谩ctico: Validaci贸n en Campo Computado
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo Pr谩ctico: Validaci贸n en Campo Computado">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sin-manejo-de-excepciones-problematico" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sin Manejo de Excepciones (Problem谩tico)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#con-manejo-de-excepciones-correcto" class="md-nav__link">
    <span class="md-ellipsis">
      
        Con Manejo de Excepciones (Correcto)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provocar-un-error-para-pruebas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Provocar un Error para Pruebas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validaciones-con-decorador-apiconstrains" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validaciones con Decorador @api.constrains
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validaciones con Decorador @api.constrains">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo-validar-fechas-de-sprint" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ejemplo: Validar Fechas de Sprint
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-validar-precio-positivo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ejemplo: Validar Precio Positivo
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mensajes-de-log" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mensajes de Log
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mensajes de Log">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#niveles-de-log" class="md-nav__link">
    <span class="md-ellipsis">
      
        Niveles de Log
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurar-el-logger" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configurar el Logger
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usar-el-logger" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usar el Logger
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurar-nivel-de-log" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configurar Nivel de Log
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ver-los-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ver los Logs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-de-salida-de-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ejemplo de Salida de Logs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tu-turno-gestor-de-restaurante" class="md-nav__link">
    <span class="md-ellipsis">
      
        З Tu Turno: Gestor de Restaurante
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="З Tu Turno: Gestor de Restaurante">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objetivos-y-contexto" class="md-nav__link">
    <span class="md-ellipsis">
      
        Objetivos y Contexto
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pasos-a-realizar" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pasos a Realizar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificaciones-y-resultado-esperado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verificaciones y Resultado Esperado
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_5_campos_computados_relacionales/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Campos computados relacionales
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_6_campos_valores_defecto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Campos con valores por defecto
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_7_herencias_modelos_vistas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Herencias
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_8_mejorando_vistas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mejorando vistas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_9_datos_demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Datos de demostraci贸n
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8">
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    7 Desarrollo con Odoo
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    7 Desarrollo con Odoo
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7_1_introduccion_odoo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introducci贸n a Odoo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7_2_desarrollo_de_modelos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Desarrollo de Modelos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7_3_desarrollo_de_vistas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Desarrollo de Vistas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7_4_navegacion_e_interaccion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Navegaci贸n e Interacci贸n
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7_5_logica_negocio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L贸gica de Negocio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7_6_herencia_extensibilidad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Herencia y Extensibilidad
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7_7_seguridad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Seguridad
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../8_2026_proyecto_odoo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Proyecto final Odoo. 'Dronify'
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#manejar-excepciones" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manejar Excepciones
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#excepciones-en-odoo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Excepciones en Odoo
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Excepciones en Odoo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tipos-de-excepciones-principales" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tipos de Excepciones Principales
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importar-excepciones" class="md-nav__link">
    <span class="md-ellipsis">
      
        Importar Excepciones
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejemplo-practico-validacion-en-campo-computado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ejemplo Pr谩ctico: Validaci贸n en Campo Computado
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo Pr谩ctico: Validaci贸n en Campo Computado">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sin-manejo-de-excepciones-problematico" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sin Manejo de Excepciones (Problem谩tico)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#con-manejo-de-excepciones-correcto" class="md-nav__link">
    <span class="md-ellipsis">
      
        Con Manejo de Excepciones (Correcto)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provocar-un-error-para-pruebas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Provocar un Error para Pruebas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validaciones-con-decorador-apiconstrains" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validaciones con Decorador @api.constrains
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validaciones con Decorador @api.constrains">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo-validar-fechas-de-sprint" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ejemplo: Validar Fechas de Sprint
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-validar-precio-positivo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ejemplo: Validar Precio Positivo
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mensajes-de-log" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mensajes de Log
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mensajes de Log">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#niveles-de-log" class="md-nav__link">
    <span class="md-ellipsis">
      
        Niveles de Log
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurar-el-logger" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configurar el Logger
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usar-el-logger" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usar el Logger
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurar-nivel-de-log" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configurar Nivel de Log
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ver-los-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ver los Logs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-de-salida-de-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ejemplo de Salida de Logs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tu-turno-gestor-de-restaurante" class="md-nav__link">
    <span class="md-ellipsis">
      
        З Tu Turno: Gestor de Restaurante
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="З Tu Turno: Gestor de Restaurante">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objetivos-y-contexto" class="md-nav__link">
    <span class="md-ellipsis">
      
        Objetivos y Contexto
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pasos-a-realizar" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pasos a Realizar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificaciones-y-resultado-esperado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verificaciones y Resultado Esperado
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="excepciones-y-mensajes-de-log">Excepciones y Mensajes de Log</h1>
<p>En este apartado abordaremos el manejo de excepciones y la gesti贸n de mensajes de log en Odoo, aspectos fundamentales para garantizar la robustez y mantenibilidad del c贸digo. Aprenderemos a lanzar excepciones de manera controlada y a registrar informaci贸n relevante en el log, utilizando los distintos niveles de severidad que ofrece el framework.</p>
<h2 id="manejar-excepciones">Manejar Excepciones</h2>
<p>El manejo adecuado de excepciones permite:</p>
<ul>
<li>Proporcionar mensajes claros al usuario cuando algo va mal</li>
<li>Evitar que la aplicaci贸n se comporte de forma inesperada</li>
<li>Facilitar la depuraci贸n durante el desarrollo</li>
<li>Mantener la integridad de los datos</li>
<li>Mejorar la experiencia de usuario</li>
</ul>
<p><strong>Sin manejo de excepciones</strong>:
</p><div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>Error interno del servidor
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>Traceback (most recent call last):
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>  File "/usr/lib/python3/...", line 1234, in method
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    result = object.field.name
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>AttributeError: 'NoneType' object has no attribute 'name'
</span></code></pre></div><p></p>
<p><strong>Con manejo de excepciones</strong>:
</p><div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Validaci贸n fallida
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>Debe asignar un sprint antes de guardar la tarea.
</span></code></pre></div><p></p>
<h2 id="excepciones-en-odoo">Excepciones en Odoo</h2>
<p>Odoo proporciona excepciones espec铆ficas para diferentes situaciones. Para m谩s informaci贸n, consulta la <a href="https://www.odoo.com/documentation/18.0/es/developer/reference/frontend/error_handling.html">documentaci贸n oficial sobre gesti贸n de errores</a>.</p>
<h3 id="tipos-de-excepciones-principales">Tipos de Excepciones Principales</h3>
<p>En el desarrollo de m贸dulos de Odoo, el manejo de errores no se limita a detener la ejecuci贸n del c贸digo. El framework utiliza excepciones espec铆ficas definidas en <code>odoo.exceptions</code> para gestionar la <strong>integridad de la base de datos</strong> (mediante <em>rollbacks</em> autom谩ticos) y la <strong>comunicaci贸n con la interfaz de usuario</strong>.</p>
<p>Utilizar la excepci贸n correcta garantiza que el usuario reciba un mensaje claro y que el sistema se comporte de manera previsible seg煤n los est谩ndares de Odoo.</p>
<table>
<thead>
<tr>
<th>Excepci贸n</th>
<th>Impacto en la Interfaz (UI)</th>
<th>Caso de Uso Correcto</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>ValidationError</code></strong></td>
<td>Ventana emergente de error de validaci贸n.</td>
<td><strong>Reglas de negocio estrictas.</strong> Ej: "La fecha de fin no puede ser anterior a la de inicio". Se usa mucho con <code>@api.constrains</code>.</td>
</tr>
<tr>
<td><strong><code>UserError</code></strong></td>
<td>Ventana emergente de advertencia.</td>
<td><strong>Acciones il贸gicas del usuario.</strong> Ej: Intentar cancelar una factura que ya est谩 pagada o confirmar un pedido sin productos.</td>
</tr>
<tr>
<td><strong><code>AccessError</code></strong></td>
<td>Mensaje de restricci贸n de seguridad.</td>
<td><strong>Permisos y ACLs.</strong> Ej: Un usuario intenta modificar un registro de un departamento al que no pertenece.</td>
</tr>
<tr>
<td><strong><code>RedirectWarning</code></strong></td>
<td>Ventana con un bot贸n de acci贸n.</td>
<td><strong>Errores con soluci贸n guiada.</strong> Ej: "No has configurado una cuenta de ingresos. [Ir a configuraci贸n]".</td>
</tr>
<tr>
<td><strong><code>MissingError</code></strong></td>
<td>Mensaje de registro no encontrado.</td>
<td><strong>Registros eliminados.</strong> Cuando el c贸digo intenta acceder a un ID que ya no existe en la base de datos.</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Notas sobre los diferentes tipos de excepciones</p>
<ul>
<li><strong>Diferencia entre <code>ValidationError</code> y <code>UserError</code>:</strong> Aunque visualmente son similares, <code>ValidationError</code> se lanza autom谩ticamente al intentar guardar un registro que no cumple los requisitos (normalmente mediante restricciones de Python), mientras que <code>UserError</code> se suele lanzar dentro de botones o m茅todos de acci贸n.</li>
<li><strong>La excepci贸n <code>Warning</code> (Obsoleta):</strong> En versiones modernas de Odoo (v13+), se prefiere el uso de <code>UserError</code> en lugar de <code>Warning</code>, ya que esta 煤ltima ha sido marcada para desaparecer en el n煤cleo del framework.</li>
</ul>
</div>
<h3 id="importar-excepciones">Importar Excepciones</h3>
<p>Primero, importa las excepciones necesarias al inicio de <code>models.py</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">odoo</span><span class="w"> </span><span class="kn">import</span> <span class="n">models</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">api</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">odoo.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ValidationError</span><span class="p">,</span> <span class="n">UserError</span>
</span></code></pre></div>
<h2 id="ejemplo-practico-validacion-en-campo-computado">Ejemplo Pr谩ctico: Validaci贸n en Campo Computado</h2>
<p>Vamos a mejorar el m茅todo <code>_get_codigo</code> del modelo de Tareas para manejar correctamente los errores.</p>
<h3 id="sin-manejo-de-excepciones-problematico">Sin Manejo de Excepciones (Problem谩tico)</h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">_get_codigo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>    <span class="k">for</span> <span class="n">tarea</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>        <span class="c1"># Si no hay sprint, esto fallar谩 con un error cr铆ptico</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>        <span class="n">tarea</span><span class="o">.</span><span class="n">codigo</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">tarea</span><span class="o">.</span><span class="n">sprint</span><span class="o">.</span><span class="n">nombre</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">tarea</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Problema</strong>: Si <code>tarea.sprint</code> es <code>None</code> (no hay sprint asignado), obtendremos un error poco claro.</p>
<h3 id="con-manejo-de-excepciones-correcto">Con Manejo de Excepciones (Correcto)</h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">_get_codigo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    <span class="k">for</span> <span class="n">tarea</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>            <span class="c1"># Generamos el c贸digo</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>            <span class="n">tarea</span><span class="o">.</span><span class="n">codigo</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">tarea</span><span class="o">.</span><span class="n">sprint</span><span class="o">.</span><span class="n">nombre</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">tarea</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>            <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Error al generar el c贸digo: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
<figure align="center">
  <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../imgs/ejemploT/15_EjemploExcpecionValidacion.png" data-desc-position="bottom"><img alt="Image title" src="../imgs/ejemploT/15_EjemploExcpecionValidacion.png" width="75%"></a>
<br>
<figcaption>Mensaje de excepci贸n por validaci贸n</figcaption>
</figure>
<p><strong>Ventajas</strong>:</p>
<ul>
<li>Mensaje claro al usuario</li>
<li>Control expl铆cito del flujo de errores</li>
<li>F谩cil de depurar</li>
</ul>
<h3 id="provocar-un-error-para-pruebas">Provocar un Error para Pruebas</h3>
<p>Vamos a provocar un error en nuestro c贸digo, para ver como funciona esta gesti贸n de excepciones.</p>
<p>Vamos a modificar el c谩lculo de la fecha final de y vamos poner mal el nombre del campo. En el c贸digo inicial</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nd">@api</span><span class="o">.</span><span class="n">depends</span><span class="p">(</span><span class="s1">'fecha_ini'</span><span class="p">,</span> <span class="s1">'duracion'</span><span class="p">)</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">_compute_fecha_fin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    <span class="k">for</span> <span class="n">sprint</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>        <span class="k">if</span> <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_ini</span> <span class="ow">and</span> <span class="n">sprint</span><span class="o">.</span><span class="n">duracion</span> <span class="ow">and</span> <span class="n">sprint</span><span class="o">.</span><span class="n">duracion</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>            <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_fin</span> <span class="o">=</span> <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_ini</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">sprint</span><span class="o">.</span><span class="n">duracion</span><span class="p">)</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>            <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_fin</span> <span class="o">=</span> <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_ini</span>
</span></code></pre></div>
<p>cambiamos cualquier variablem para ver c贸mo reacciona e incluimos el bloque <code>try-excetp</code></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nd">@api</span><span class="o">.</span><span class="n">depends</span><span class="p">(</span><span class="s1">'fecha_ini'</span><span class="p">,</span> <span class="s1">'duracion'</span><span class="p">)</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">_compute_fecha_fin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>    <span class="k">for</span> <span class="n">sprint</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>            <span class="k">if</span> <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_ini</span> <span class="ow">and</span> <span class="n">sprint</span><span class="o">.</span><span class="n">duracion</span> <span class="ow">and</span> <span class="n">sprint</span><span class="o">.</span><span class="n">duracion</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>                <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_fin</span> <span class="o">=</span> <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_inicial</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">sprint</span><span class="o">.</span><span class="n">duracion</span><span class="p">)</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>                <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_fin</span> <span class="o">=</span> <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_inicial</span> <span class="c1">#campo err贸neo</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>            
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>            <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Error al generar el c贸digo: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>            <span class="c1"># raise UserError(f"Error al generar el c贸digo: {str(e)}")</span>
</span></code></pre></div>
<p>Esto provocar谩 un error que ser谩 capturado por el <code>except</code> y mostrado al usuario de forma controlada.</p>
<figure align="center">
  <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../imgs/ejemploT/16_EjemploExcpecionError.png" data-desc-position="bottom"><img alt="Image title" src="../imgs/ejemploT/16_EjemploExcpecionError.png" width="75%"></a>
<br>
<figcaption>Mensaje de excepci贸n capturando un error</figcaption>
</figure>
<h2 id="validaciones-con-decorador-apiconstrains">Validaciones con Decorador <code>@api.constrains</code></h2>
<p>Otra forma de validar datos es usando el decorador <code>@api.constrains</code>, que se ejecuta autom谩ticamente cuando cambian ciertos campos.</p>
<h3 id="ejemplo-validar-fechas-de-sprint">Ejemplo: Validar Fechas de Sprint</h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nd">@api</span><span class="o">.</span><span class="n">constrains</span><span class="p">(</span><span class="s1">'fecha_ini'</span><span class="p">,</span> <span class="s1">'fecha_fin'</span><span class="p">)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">_check_fechas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    <span class="k">for</span> <span class="n">sprint</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>        <span class="k">if</span> <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_fin</span> <span class="ow">and</span> <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_ini</span><span class="p">:</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>            <span class="k">if</span> <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_fin</span> <span class="o">&lt;</span> <span class="n">sprint</span><span class="o">.</span><span class="n">fecha_ini</span><span class="p">:</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>                <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>                    <span class="s2">"La fecha de fin no puede ser anterior a la fecha de inicio."</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>                <span class="p">)</span>
</span></code></pre></div>
<p><strong>Caracter铆sticas</strong>:</p>
<ul>
<li>Se ejecuta autom谩ticamente al guardar</li>
<li>Solo cuando cambian los campos especificados</li>
<li>Lanza <code>ValidationError</code> si algo est谩 mal</li>
</ul>
<h3 id="ejemplo-validar-precio-positivo">Ejemplo: Validar Precio Positivo</h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nd">@api</span><span class="o">.</span><span class="n">constrains</span><span class="p">(</span><span class="s1">'precio'</span><span class="p">)</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">_check_precio</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>    <span class="k">for</span> <span class="n">plato</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>        <span class="k">if</span> <span class="n">plato</span><span class="o">.</span><span class="n">precio</span> <span class="ow">and</span> <span class="n">plato</span><span class="o">.</span><span class="n">precio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>            <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s2">"El precio debe ser mayor o igual a cero."</span><span class="p">)</span>
</span></code></pre></div>
<h2 id="mensajes-de-log">Mensajes de Log</h2>
<p>El registro de mensajes en el log es esencial para el seguimiento y diagn贸stico de la aplicaci贸n. Odoo utiliza el m贸dulo est谩ndar de Python <code>logging</code>.</p>
<h3 id="niveles-de-log">Niveles de Log</h3>
<table>
<thead>
<tr>
<th>Nivel</th>
<th>Uso</th>
<th>Cu谩ndo Usarlo</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>DEBUG</strong></td>
<td>Informaci贸n detallada</td>
<td>Depuraci贸n durante desarrollo</td>
</tr>
<tr>
<td><strong>INFO</strong></td>
<td>Mensajes informativos</td>
<td>Eventos importantes del flujo normal</td>
</tr>
<tr>
<td><strong>WARNING</strong></td>
<td>Advertencias</td>
<td>Situaciones anormales pero no cr铆ticas</td>
</tr>
<tr>
<td><strong>ERROR</strong></td>
<td>Errores</td>
<td>Fallos que impiden completar una operaci贸n</td>
</tr>
<tr>
<td><strong>CRITICAL</strong></td>
<td>Errores cr铆ticos</td>
<td>Fallos graves que pueden detener el sistema</td>
</tr>
</tbody>
</table>
<h3 id="configurar-el-logger">Configurar el Logger</h3>
<p>Al inicio del archivo <code>models.py</code>, despu茅s de las importaciones:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">odoo</span><span class="w"> </span><span class="kn">import</span> <span class="n">models</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">api</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">odoo.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ValidationError</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="n">_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Explicaci贸n</strong>:</p>
<ul>
<li><code>logging.getLogger(__name__)</code>: Crea un logger con el nombre del m贸dulo actual</li>
<li><code>_logger</code>: Variable para acceder al logger en todo el archivo</li>
<li>Permite identificar f谩cilmente de d贸nde provienen los mensajes</li>
</ul>
<h3 id="usar-el-logger">Usar el Logger</h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">_get_codigo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>    <span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">"Iniciando generaci贸n de c贸digos de tareas"</span><span class="p">)</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>    <span class="k">for</span> <span class="n">tarea</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">tarea</span><span class="o">.</span><span class="n">sprint</span><span class="p">:</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>                <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Tarea </span><span class="si">{</span><span class="n">tarea</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> sin sprint asignado"</span><span class="p">)</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>                <span class="n">tarea</span><span class="o">.</span><span class="n">codigo</span> <span class="o">=</span> <span class="s2">"TSK_"</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">tarea</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>                <span class="c1"># Si tiene sprint, usamos su nombre</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>                <span class="n">tarea</span><span class="o">.</span><span class="n">codigo</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">tarea</span><span class="o">.</span><span class="n">sprint</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">tarea</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">"C贸digo generado: </span><span class="si">{</span><span class="n">tarea</span><span class="o">.</span><span class="n">codigo</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Error generando c贸digo para tarea </span><span class="si">{</span><span class="n">tarea</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>            <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Error al generar el c贸digo: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
<p>Por cierto, ejecutando al anterior c贸digo y revisando los logs, veremos que constantemente estamos cambiando el c贸digo de la tarea, lo cual no parece muy eficiente y por lo tanto deber铆amos poner remedio, por ejemplo indicando que solo se calcular谩 el c贸digo en caso de que el cambie el sprint asociado. As铆 a帽adimos la siguiente linea con un <code>@api.depends</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>    <span class="nd">@api</span><span class="o">.</span><span class="n">depends</span><span class="p">(</span><span class="s1">'sprint'</span><span class="p">,</span> <span class="s1">'sprint.name'</span><span class="p">)</span>   <span class="c1"># solo se ejecuta si cambia el sprint.</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_codigo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>        <span class="o">....</span>
</span></code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Compute &amp; Depends en la Creaci贸n (Create)</p>
<p>Odoo ejecuta <strong>todos</strong> los m茅todos <code>compute</code> durante la creaci贸n de un registro, incluso si los campos del <code>@api.depends</code> no han cambiado o est谩n vac铆os. Esto lo hace para dar un valor inicial al campo.</p>
<p>As铆 pues, lo que sucede en el m茅todo anterior con el campo <code>id</code> de propia tarea es que antes de guardar, el <code>id</code> es un "Virtual ID" (ej. <code>NewId_1</code>). El compute se ejecuta para mostrar una previsualizaci贸n, y al al Guardar (Flush) Odoo asigna el ID real de la base de datos y <strong>vuelve a ejecutar</strong> el <code>compute</code> autom谩ticamente antes de hacer el commit final.</p>
<p>O sea, Odoo gestiona la creaci贸n como un evento especial. El <code>depends</code> solo sirve para <strong>actualizaciones futuras</strong> de registros que ya existen.</p>
</div>
<h3 id="configurar-nivel-de-log">Configurar Nivel de Log</h3>
<p>Por defecto, Odoo solo muestra mensajes de nivel <code>INFO</code> o superior. Para ver mensajes <code>DEBUG</code>, modifica el archivo <code>odoo.conf</code>:</p>
<div class="language-ini highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="k">[options]</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="na">log_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">debug</span>
</span></code></pre></div>
<p>Despu茅s de modificar el archivo, reinicia el servidor:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>restart<span class="w"> </span>odoo_dev_dam
</span></code></pre></div>
<h3 id="ver-los-logs">Ver los Logs</h3>
<p>Los logs se muestran en la consola o en archivos seg煤n tu configuraci贸n:</p>
<p><strong>Ver logs en tiempo real</strong>:
</p><div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>docker<span class="w"> </span>logs<span class="w"> </span>odoo_dev_dam<span class="w"> </span>-f
</span></code></pre></div><p></p>
<p><strong>Filtrar logs de tu m贸dulo</strong>:
</p><div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>docker<span class="w"> </span>logs<span class="w"> </span>odoo_dev_sge<span class="w"> </span>-f<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>--line-buffered<span class="w"> </span>DEBUG<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">"gestion_tareas"</span>
</span></code></pre></div><p></p>
<div class="admonition tip">
<p class="admonition-title">Filtrado de salida de docker</p>
<p>Para filtrar logs de un contenedor en tiempo real de forma efectiva, la estructura ideal es:</p>
<p><code>docker logs &lt;contenedor&gt; -f 2&gt;&amp;1 | grep --line-buffered "FILTRO1" | grep "FILTRO2"</code></p>
<p>donde:</p>
<ul>
<li>
<p><strong><code>2&gt;&amp;1</code> (Redirecci贸n de stderr a stdout):</strong></p>
<ul>
<li>Docker y muchas aplicaciones (como Odoo/Python) env铆an los mensajes de log y errores al flujo de <strong>Error Est谩ndar (stderr)</strong>, mientras que <code>grep</code> solo analiza la <strong>Salida Est谩ndar (stdout)</strong> por defecto.</li>
<li>Este comando une ambos flujos para que <code>grep</code> pueda "leerlo" todo.</li>
</ul>
</li>
<li>
<p><strong><code>--line-buffered</code>:</strong></p>
<ul>
<li>Por defecto, cuando <code>grep</code> detecta que su salida va hacia una tuber铆a (<code>|</code>), espera a llenar un b煤fer de memoria (unos 4KB) antes de soltar los datos. Esto causa un retraso o "congelamiento" aparente.</li>
<li>Esta bandera fuerza a <code>grep</code> a imprimir cada l铆nea en el momento exacto en que la encuentra, permitiendo el monitoreo en tiempo real.</li>
</ul>
</li>
<li>
<p><strong>Encadenamiento de <code>grep</code>:</strong></p>
<ul>
<li>Al usar varios <code>| grep</code>, act煤an como un operador l贸gico <strong>AND</strong>. Solo se mostrar谩n las l铆neas que contengan estrictamente todos los t茅rminos buscados.</li>
</ul>
</li>
</ul>
</div>
<h3 id="ejemplo-de-salida-de-logs">Ejemplo de Salida de Logs</h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>2026-01-08 18:12:45,816 1 DEBUG odoo odoo.addons.gestion_tareas_sergio.models.models: C贸digo generado: SPRINT SEMANA 1_2 
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>2026-01-08 18:21:04,123 1 DEBUG odoo odoo.service.model: call gestion_tareas_sergio.tareas_sergio(4,).web_read(specification={'codigo': {}, 'name': {}, 'descripcion': {}, 'sprint': {'fields': {'display_name': {}}}, 'fecha_creacion': {}, 'fecha_ini': {}, 'fecha_fin': {}, 'finalizado': {}, 'rel_tecnologias': {'fields': {'display_name': {}}}, 'display_name': {}}) 
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>2026-01-08 18:21:04,129 1 DEBUG odoo odoo.addons.gestion_tareas_sergio.models.models: C贸digo generado: SPRINT SEMANA 1_4 
</span></code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Buenas Pr谩cticas</p>
<p><strong>Usa Excepciones Espec铆ficas</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># Mal</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">"Error"</span><span class="p">)</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="c1"># Bien</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s2">"La fecha de fin debe ser posterior a la fecha de inicio"</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Mensajes Claros y tiles</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1"># Mal</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s2">"Error en los datos"</span><span class="p">)</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="c1"># Bien</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>    <span class="sa">f</span><span class="s2">"El sprint '</span><span class="si">{</span><span class="n">sprint</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2">' ya ha finalizado. "</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>    <span class="s2">"No se pueden a帽adir tareas a sprints finalizados."</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="p">)</span>
</span></code></pre></div>
<p><strong>Registra Informaci贸n Relevante</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># Registra antes de operaciones importantes</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Creando sprint: </span><span class="si">{</span><span class="n">sprint</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2">, duraci贸n: </span><span class="si">{</span><span class="n">sprint</span><span class="o">.</span><span class="n">duracion</span><span class="si">}</span><span class="s2"> d铆as"</span><span class="p">)</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="c1"># Registra advertencias ante situaciones anormales</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="k">if</span> <span class="ow">not</span> <span class="n">tarea</span><span class="o">.</span><span class="n">descripcion</span><span class="p">:</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>    <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Tarea </span><span class="si">{</span><span class="n">tarea</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> creada sin descripci贸n"</span><span class="p">)</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="c1"># Registra errores con contexto</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Fallo al calcular fecha_fin para sprint </span><span class="si">{</span><span class="n">sprint</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>No Registres Informaci贸n Sensible</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># Mal - expone contrase帽as</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Usuario login: </span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">login</span><span class="si">}</span><span class="s2">, password: </span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">password</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="c1"># Bien</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Usuario login exitoso: </span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">login</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Usa el Nivel Apropiado</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># DEBUG - solo en desarrollo</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Valor de variable x: </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="c1"># INFO - eventos normales importantes</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">"M贸dulo inicializado correctamente"</span><span class="p">)</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="c1"># WARNING - situaci贸n anormal pero no cr铆tica</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">"Base de datos sin datos de demo"</span><span class="p">)</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="c1"># ERROR - operaci贸n fallida</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">"No se pudo conectar al servidor externo"</span><span class="p">)</span>
</span></code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Validaciones Comunes</p>
<p><strong>Validar Campos Obligatorios</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nd">@api</span><span class="o">.</span><span class="n">constrains</span><span class="p">(</span><span class="s1">'nombre'</span><span class="p">)</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">_check_nombre</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">record</span><span class="o">.</span><span class="n">nombre</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">record</span><span class="o">.</span><span class="n">nombre</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>            <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s2">"El nombre no puede estar vac铆o"</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Validar Rangos Num茅ricos</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nd">@api</span><span class="o">.</span><span class="n">constrains</span><span class="p">(</span><span class="s1">'duracion'</span><span class="p">)</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">_check_duracion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>    <span class="k">for</span> <span class="n">sprint</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>        <span class="k">if</span> <span class="n">sprint</span><span class="o">.</span><span class="n">duracion</span> <span class="ow">and</span> <span class="p">(</span><span class="n">sprint</span><span class="o">.</span><span class="n">duracion</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">sprint</span><span class="o">.</span><span class="n">duracion</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">):</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>            <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>                <span class="s2">"La duraci贸n del sprint debe estar entre 1 y 30 d铆as"</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>            <span class="p">)</span>
</span></code></pre></div>
<p><strong>Validar Unicidad</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nd">@api</span><span class="o">.</span><span class="n">constrains</span><span class="p">(</span><span class="s1">'nombre'</span><span class="p">)</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">_check_nombre_unico</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>    <span class="k">for</span> <span class="n">sprint</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>        <span class="n">duplicado</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">search</span><span class="p">([</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>            <span class="p">(</span><span class="s1">'nombre'</span><span class="p">,</span> <span class="s1">'='</span><span class="p">,</span> <span class="n">sprint</span><span class="o">.</span><span class="n">nombre</span><span class="p">),</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>            <span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="s1">'!='</span><span class="p">,</span> <span class="n">sprint</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>        <span class="p">])</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>        <span class="k">if</span> <span class="n">duplicado</span><span class="p">:</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>            <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>                <span class="sa">f</span><span class="s2">"Ya existe un sprint con el nombre '</span><span class="si">{</span><span class="n">sprint</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2">'"</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>            <span class="p">)</span>
</span></code></pre></div>
</div>
<hr>
<h2 id="tu-turno-gestor-de-restaurante">З Tu Turno: Gestor de Restaurante</h2>
<p>Ahora aplicar谩s validaciones y logging al proyecto del restaurante.</p>
<h3 id="objetivos-y-contexto">Objetivos y Contexto</h3>
<p>A帽adir谩s validaciones para asegurar la integridad de los datos y agregar谩s mensajes de log para facilitar la depuraci贸n y el seguimiento de operaciones.</p>
<p>Implementar谩s:
- Validaciones de campos obligatorios
- Validaciones de rangos num茅ricos
- Manejo de excepciones en campos computados
- Logging de operaciones importantes</p>
<h3 id="pasos-a-realizar">Pasos a Realizar</h3>
<ol>
<li>
<p><strong>Importar excepciones y logging</strong></p>
<p>Al inicio de <code>models.py</code>:
</p><div class="language-python highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">odoo.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ValidationError</span><span class="p">,</span> <span class="n">UserError</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="n">_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Validar que el precio sea positivo</strong></p>
<p>En el modelo Plato, crea un m茅todo con <code>@api.constrains('precio')</code> que:</p>
<ul>
<li>Verifique que el precio sea mayor o igual a 0</li>
<li>Lance <code>ValidationError</code> si no cumple</li>
</ul>
<p>Pistas:</p>
<ul>
<li>El mensaje debe ser claro para el usuario</li>
<li>Recuerda iterar sobre <code>self</code></li>
</ul>
</li>
<li>
<p><strong>Validar que el tiempo de preparaci贸n sea razonable</strong></p>
<p>En el modelo Plato, valida que <code>tiempo_preparacion</code>:</p>
<ul>
<li>Si existe, est茅 entre 1 y 240 minutos (4 horas)</li>
<li>Lance <code>ValidationError</code> con mensaje descriptivo</li>
</ul>
</li>
<li>
<p><strong>Validar fechas del men煤</strong></p>
<p>En el modelo Men煤, valida que:</p>
<ul>
<li>Si existe <code>fecha_fin</code>, sea posterior a <code>fecha_inicio</code></li>
<li>Use <code>@api.constrains</code> con ambos campos</li>
</ul>
<p>Pista: Compara fechas con operadores <code>&lt;</code> y <code>&gt;</code></p>
</li>
<li>
<p><strong>A帽adir manejo de excepciones al campo computado <code>codigo</code></strong></p>
<p>Modifica el m茅todo <code>_get_codigo</code> del modelo Plato:</p>
<ul>
<li>Envu茅lvelo en un bloque <code>try-except</code></li>
<li>Verifica que la categor铆a existe antes de usarla</li>
<li>Lanza <code>ValidationError</code> si algo falla</li>
</ul>
<p>Pista: Usa <code>if not plato.categoria</code> para verificar</p>
</li>
<li>
<p><strong>A帽adir logging a operaciones importantes</strong></p>
<p>En el modelo Plato, a帽ade logs en momentos clave:</p>
<ul>
<li><code>_logger.debug()</code> al generar c贸digos</li>
<li><code>_logger.info()</code> cuando se validan precios correctamente</li>
<li><code>_logger.warning()</code> si un plato no tiene categor铆a</li>
<li><code>_logger.error()</code> cuando falla una operaci贸n</li>
</ul>
</li>
<li>
<p><strong>Validar que un men煤 tenga al menos un plato</strong></p>
<p>En el modelo Men煤, crea una validaci贸n que:</p>
<ul>
<li>Verifique que el men煤 tenga al menos un plato cuando est茅 activo</li>
<li>Use <code>@api.constrains('platos', 'activo')</code></li>
<li>Lance <code>ValidationError</code> si est谩 activo sin platos</li>
</ul>
<p>Pista: Usa <code>len(menu.platos)</code> para contar platos</p>
</li>
<li>
<p><strong>Configurar nivel de log en debug</strong></p>
<p>En <code>data/odoo_config/odoo.conf</code>, a帽ade o modifica:
</p><div class="language-ini highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="na">log_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">debug</span>
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Probar las validaciones</strong></p>
<p>Intenta crear:</p>
<ul>
<li>Un plato con precio negativo (debe fallar)</li>
<li>Un plato con tiempo de preparaci贸n de 300 minutos (debe fallar)</li>
<li>Un men煤 con fecha_fin anterior a fecha_inicio (debe fallar)</li>
<li>Un men煤 activo sin platos (debe fallar)</li>
</ul>
</li>
<li>
<p><strong>Ver los logs generados</strong></p>
<p>Ejecuta:
</p><div class="language-bash highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>docker<span class="w"> </span>logs<span class="w"> </span>odoo_dev_dam<span class="w"> </span>-f<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">"restaurante"</span>
</span></code></pre></div><p></p>
<p>Verifica que aparecen tus mensajes de log.</p>
</li>
</ol>
<h3 id="verificaciones-y-resultado-esperado">Verificaciones y Resultado Esperado</h3>
<p>Comprueba que:</p>
<ul>
<li>No puedes guardar un plato con precio negativo</li>
<li>No puedes guardar un plato con tiempo de preparaci贸n fuera del rango</li>
<li>No puedes guardar un men煤 con fechas inconsistentes</li>
<li>No puedes activar un men煤 sin platos</li>
<li>Los mensajes de error son claros y 煤tiles para el usuario</li>
<li>Los logs muestran informaci贸n relevante de las operaciones</li>
</ul>
<p><strong>Pruebas sugeridas</strong>:</p>
<ol>
<li>Intenta crear un plato con precio -5  <em>Debe mostrar error de validaci贸n</em></li>
<li>Intenta crear un plato con tiempo de preparaci贸n de 500 minutos  <em>Error</em></li>
<li>Crea un men煤 con fecha_fin antes de fecha_inicio  <em>Error</em></li>
<li>Activa un men煤 vac铆o  <em>Error</em></li>
<li>Verifica que en los logs aparece informaci贸n de cada operaci贸n</li>
</ol>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pie">
        
          
          <a href="../6_3_campos_computados/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: Campos computados">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Anterior
              </span>
              <div class="md-ellipsis">
                Campos computados
              </div>
            </div>
          </a>
        
        
          
          <a href="../6_5_campos_computados_relacionales/" class="md-footer__link md-footer__link--next" aria-label="Siguiente: Campos computados relacionales">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Siguiente
              </span>
              <div class="md-ellipsis">
                Campos computados relacionales
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Sergio Rey Mart铆nez - DAM - SGE - 2025/26
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.indexes", "navigation.footer", "navigation.instant", "navigation.instant.progress", "toc.follow", "navigation.top", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>