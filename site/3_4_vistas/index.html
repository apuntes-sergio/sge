
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sergio-apuntes.github.io/sge/3_4_vistas/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>La vista - Apuntes Sistemas de Gestión Empresarial</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#la-vista" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Apuntes Sistemas de Gestión Empresarial" class="md-header__button md-logo" aria-label="Apuntes Sistemas de Gestión Empresarial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apuntes Sistemas de Gestión Empresarial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              La vista
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Apuntes Sistemas de Gestión Empresarial" class="md-nav__button md-logo" aria-label="Apuntes Sistemas de Gestión Empresarial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Apuntes Sistemas de Gestión Empresarial
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    1 ERP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            1 ERP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción a Odoo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_2_IntroduccionERP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.2. Introducción a la Gestión Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_3_IT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.3. Informática en la Gestión Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_4_ERP_CRM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.4. ERP-CRM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_5_ERP_actuales/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.5. Revisión de ERPs Actuales
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_6_ERP_Libres_Privativos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.6. ERPs Propietarios vs ERPs de Código Abierto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_7_CRM_Actuales/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.7. CRM Actual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_8_Terminolog%C3%ADa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.8. Terminología ERP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2 Instalacion de Odoo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            2 Instalacion de Odoo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_1_InstalarOdoo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.1. Instalación de Odoo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_2_InstalarDocker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.2. Instalación con docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_3_InstalarUbuntu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.3. Instalación en Ubuntu
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    3 Desarrollo con odoo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            3 Desarrollo con odoo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_1_ArquitecturaOdoo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1. Arquitectura de Odoo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_2_PrimerModulo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2. Primer módulo en Odoo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_3_Modulos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.3. Los módulos en Odoo
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    4 Desarrollo de un módulo de gestión de proyectos
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            4 Desarrollo de un módulo de gestión de proyectos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_1_EjemploCreacionModeloBasico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.1. Creación de un modelo básico, vistas, menús y actions.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_2_EjemploCamposBasicos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.2. Campos básicos y relacionales
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_3_EjemploCamposComputados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.3. Campos básicos computados.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_4_EjemploExcepcionesMensajes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.4. Lanzar excepciones y añadir mensajes de log.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_5_EjemploCamposComputadosRelacionales/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.5. Campos computados relacionales
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_6_EjemploCamposValoresDefecto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.6. Campos con valores por defecto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_7_EjemploHerencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.7. Herencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_8_EjemploMejorandoVistas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.8. Mejorando vistas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_9_EjemploDatosDemo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.9. Datos de demostración
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#les-vistes-list" class="md-nav__link">
    <span class="md-ellipsis">
      Les vistes list
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Les vistes list">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#colors" class="md-nav__link">
    <span class="md-ellipsis">
      Colors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#editable" class="md-nav__link">
    <span class="md-ellipsis">
      Editable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camps-invisibles" class="md-nav__link">
    <span class="md-ellipsis">
      Camps invisibles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#botons" class="md-nav__link">
    <span class="md-ellipsis">
      Botons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#totals" class="md-nav__link">
    <span class="md-ellipsis">
      Totals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ordenar-per-un-field" class="md-nav__link">
    <span class="md-ellipsis">
      Ordenar per un field
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agrupar-per-un-field" class="md-nav__link">
    <span class="md-ellipsis">
      Agrupar per un field
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#banner_route" class="md-nav__link">
    <span class="md-ellipsis">
      banner_route
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#les-vistes-form" class="md-nav__link">
    <span class="md-ellipsis">
      Les vistes form
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Les vistes form">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#widgets" class="md-nav__link">
    <span class="md-ellipsis">
      Widgets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Widgets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integer-i-float" class="md-nav__link">
    <span class="md-ellipsis">
      Integer i Float
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integer i Float">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#char_i_text" class="md-nav__link">
    <span class="md-ellipsis">
      Char i Text
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boolean" class="md-nav__link">
    <span class="md-ellipsis">
      Boolean
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#date" class="md-nav__link">
    <span class="md-ellipsis">
      Date
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#many2one" class="md-nav__link">
    <span class="md-ellipsis">
      Many2one
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#many2many" class="md-nav__link">
    <span class="md-ellipsis">
      Many2Many
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one2many" class="md-nav__link">
    <span class="md-ellipsis">
      One2many
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modificar-el-tree-del-one2many" class="md-nav__link">
    <span class="md-ellipsis">
      Modificar el tree del One2many
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binary-o-image" class="md-nav__link">
    <span class="md-ellipsis">
      Binary o Image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selection" class="md-nav__link">
    <span class="md-ellipsis">
      Selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fields-dels-trees" class="md-nav__link">
    <span class="md-ellipsis">
      Fields dels trees
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buttons" class="md-nav__link">
    <span class="md-ellipsis">
      buttons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formularis-dinamics" class="md-nav__link">
    <span class="md-ellipsis">
      Formularis dinàmics
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vistes-kanban" class="md-nav__link">
    <span class="md-ellipsis">
      Vistes Kanban
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Vistes Kanban">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#imatges-en-els-kanbans" class="md-nav__link">
    <span class="md-ellipsis">
      Imatges en els Kanbans
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vistes-search" class="md-nav__link">
    <span class="md-ellipsis">
      Vistes search
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Vistes search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operadors-per-als-domains" class="md-nav__link">
    <span class="md-ellipsis">
      Operadors per als domains:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vistes-calendar" class="md-nav__link">
    <span class="md-ellipsis">
      Vistes Calendar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vistes-graph" class="md-nav__link">
    <span class="md-ellipsis">
      Vistes Graph
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="la-vista">La vista</h1>
<p>En aquest capítol, explorarem com funcionen les vistes en Odoo, quins tipus de vistes podem utilitzar i com es poden personalitzar mitjançant XML i accions de servidor. Aprendrem a estructurar correctament una interfície d'usuari, a definir formularis, llistats, kanbans i gràfics, i a gestionar la navegació entre ells.</p>
<p>Les vistes són la manera en la que es representen els models. En cas de que no declarem les vistes, es poden referenciar per el seu tipus i Odoo generarà una vista de llista o formulari estandar per poder vorer els registres de cada model. No obstant, quasi sempre volem personalitzar les vistes i en aquest cas, es poden referenciar per un identificador.</p>
<p>Les vistes tenen una prioritat i, si no s\'especifica el identificador de la que volem mostrar, es mostrarà la que més prioritat tinga.</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nt">&lt;record</span><span class="w"> </span><span class="na">model=</span><span class="s">&quot;ir.ui.view&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;view_id&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>view.name<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;model&quot;</span><span class="nt">&gt;</span>object_name<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;priority&quot;</span><span class="w"> </span><span class="na">eval=</span><span class="s">&quot;16&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;arch&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;xml&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">        </span><span class="cm">&lt;!-- view content: &lt;form&gt;, &lt;list&gt;, &lt;graph&gt;, ... --&gt;</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">    </span><span class="nt">&lt;/field&gt;</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="nt">&lt;/record&gt;</span>
</span></code></pre></div>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Les vistes es guarden en el model `ir.ui.view`. Tots els elements de interficie tenen en el seu nom ir.ui (Information Repository, User Interface). Els menús a ir.ui.menu o les accions a `ir.actions.window`
</span></code></pre></div>
Exemple de vista form:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="w">  </span><span class="nt">&lt;record</span><span class="w"> </span><span class="na">model=</span><span class="s">&quot;ir.ui.view&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;course_form_view&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>course.form<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;model&quot;</span><span class="nt">&gt;</span>openacademy.course<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;arch&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;xml&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">                </span><span class="nt">&lt;form</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Course Form&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">                    </span><span class="nt">&lt;sheet&gt;</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">                        </span><span class="nt">&lt;group&gt;</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">                            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">                            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;description&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">                        </span><span class="nt">&lt;/group&gt;</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">                    </span><span class="nt">&lt;/sheet&gt;</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">                </span><span class="nt">&lt;/form&gt;</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">            </span><span class="nt">&lt;/field&gt;</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">        </span><span class="nt">&lt;/record&gt;</span>
</span></code></pre></div>
<p>Encara que Odoo ja proporciona un list i un form per defecte, la vista
cal millorar-la quasi sempre. Totes les vistes tenen fields que poden
tindre widgets diferents. En les vistes form, podem adaptar molt
l\'aspecte amb grups de fields, pestanyes, camps ocults
condicionalment...</p>
<h2 id="les-vistes-list">Les vistes list</h2>
<blockquote>
<p>A partir d'Odoo 18 ja no hi ha vistes <code>tree</code> i són totes <code>list</code>, els exemples antics funcionaran canviant aquesta paraula. </p>
</blockquote>
<p>Les vistes <em>list</em> (o vistes de llista) són un dels tipus de vistes més utilitzats en Odoo. Permeten mostrar registres en format de taula, facilitant la visualització i la gestió de grans quantitats de dades.  </p>
<p>Aquestes vistes són especialment útils per a representar informació resumida d'un conjunt de registres, amb columnes que mostren els camps més rellevants. A més, poden incloure funcionalitats com l’ordenació, els filtres i les accions ràpides.  </p>
<p>Un exemple bàsic d’una vista <em>list</em> per al model de clients (<em>res.partner</em>) seria el següent:  </p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nt">&lt;record</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;view_partner_list&quot;</span><span class="w"> </span><span class="na">model=</span><span class="s">&quot;ir.ui.view&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>res.partner.list<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;model&quot;</span><span class="nt">&gt;</span>res.partner<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;arch&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;xml&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">        </span><span class="nt">&lt;list&gt;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;phone&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;email&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;company_id&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">        </span><span class="nt">&lt;/list&gt;</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">    </span><span class="nt">&lt;/field&gt;</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="nt">&lt;/record&gt;</span>
</span></code></pre></div>
<hr />
<ul>
<li><code>&lt;record&gt;</code>: Defineix un nou registre en el model <code>ir.ui.view</code>, que representa la vista.  </li>
<li><code>&lt;field name="name"&gt;</code>: Assigna un nom únic a la vista.  </li>
<li><code>&lt;field name="model"&gt;</code>: Indica el model al qual pertany la vista (<code>res.partner</code> en aquest cas).  </li>
<li><code>&lt;field name="arch" type="xml"&gt;</code>: Conté l'estructura XML de la vista.  </li>
<li><code>&lt;list&gt;</code>: Defineix una vista de tipus <em>list</em>.  </li>
<li><code>&lt;field name="name"/&gt;</code>, <code>&lt;field name="phone"/&gt;</code>, etc.: Representen les columnes que es mostraran en la llista.  </li>
</ul>
<h3 id="colors">Colors</h3>
<p>En les vistes list es pot modificar el <strong>color</strong> en funció del contingut
d\'un field amb l\'etiqueta <strong>decoration</strong>, que utilitza colors
contextuals de <strong>Bootstrap</strong>:</p>
<p><code>decoration-bf - Lineas en BOLD</code>\
<code>decoration-it - Lineas en ITALICS</code>\
<code>decoration-danger - Color LIGHT RED</code>\
<code>decoration-info - Color LIGHT BLUE</code>\
<code>decoration-muted - Color LIGHT GRAY</code>\
<code>decoration-primary - Color LIGHT PURPLE</code>\
<code>decoration-success - Color LIGHT GREEN</code>\
<code>decoration-warning - Color LIGHT BROWN</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">&lt;list</span><span class="w">  </span><span class="na">decoration-info=</span><span class="s">&quot;state==&#39;draft&#39;&quot;</span><span class="w"> </span><span class="na">decoration-danger=</span><span class="s">&quot;state==&#39;trashed&#39;&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;state&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="nt">&lt;/list&gt;</span>
</span></code></pre></div>
<p>En el cas de que es vulga comparar un field Date o Datetime es pot fer
amb la variable global de QWeb <strong>current_date</strong>. Per exemple:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nt">&lt;list</span><span class="w">  </span><span class="na">decoration-info=</span><span class="s">&quot;start_date==current_date&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>...
</span></code></pre></div>
<p>També es pot fer <strong>decoration</strong> en els fields individualment.</p>
<h3 id="editable">Editable</h3>
<p>També es pot fer <strong>editable</strong> per no tindre que obrir un form:
<strong>editable=\"[top | bottom]\"</strong>. Top o Bottom indica on es crearan
els nous registres. Els lists editables poden tindre un atribut més
<strong>on_write</strong> que indica un mètode a executar quan s\'edita o crea un
element.</p>
<h3 id="camps-invisibles">Camps invisibles</h3>
<p>De vegades, un camp pot servir per a alguna cosa, però no cal que
l\'usuari el veja. El que cal fer és ficar el field , però dir que es
<strong>invisible=\"1\"</strong></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nt">&lt;list</span><span class="w">  </span><span class="na">decoration-info=</span><span class="s">&quot;duration==0&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">                    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">                    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;course_id&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">                    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;duration&quot;</span><span class="w"> </span><span class="na">invisible=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">                    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;taken_seats&quot;</span><span class="w"> </span><span class="na">widget=</span><span class="s">&quot;progressbar&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">                </span><span class="nt">&lt;/list&gt;</span>
</span></code></pre></div>
<h3 id="botons">Botons</h3>
<p>Els <em>lists</em> poden tindre <strong>buttons</strong> amb els mateixos atributs que els
buttons dels forms.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>Cal tindre cura en els lists dins de forms (X2many), ja que el botó s&#39;executa en el model del list i no del formulari que el conté. Si volem accedir al pare, cal utilitzar l&#39;atribut parent.
</span></code></pre></div>
<h3 id="totals">Totals</h3>
<p>En els lists es pot calcular totals amb aquesta etiqueta:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;amount&quot;</span><span class="w"> </span><span class="na">sum=</span><span class="s">&quot;Total Amount&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<h3 id="ordenar-per-un-field">Ordenar per un field</h3>
<p>Un list es pot ordenar per defecte per un field que no siga computat.
Això es fa en <strong>default_order</strong>. Mirem un exemple per ordenar
descendentment:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nt">&lt;list</span><span class="w"> </span><span class="na">default_order=</span><span class="s">&quot;sequence,name desc&quot;</span><span class="nt">&gt;</span>
</span></code></pre></div>
<blockquote>
<p>Si volem que sempre s\'ordene per eixe criteri, sense importar la vista,
cal afegir al model l\'atribut <strong>_order</strong>.</p>
</blockquote>
<h3 id="agrupar-per-un-field">Agrupar per un field</h3>
<p>Amb <strong>default_group_by</strong>. Com l'atribut per ordenar, sols funciona amb camps guardats a la base de dades. </p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nt">&lt;list</span><span class="w"> </span><span class="na">default_group_by=</span><span class="s">&quot;born_year&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;born_year&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;age&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="nt">&lt;/list&gt;</span>
</span></code></pre></div>
<h3 id="banner_route">banner_route</h3>
<p>A partir de la versió 12 d\'Odoo, permet afegir als lists, forms, etc
una capçalera obtinguda per una url.
<a href="https://www.odoo.com/documentation/12.0/reference/views.html#common-structure">https://www.odoo.com/documentation/12.0/reference/views.html#common-structure</a></p>
<p>Aquesta capçalera serà un codi HTML que pot aprofitar les classes CSS
d\'Odoo, però no aprofita la generació de codi HTML que realitza el
client web d\'Odoo en la definició de les vistes. En cas d\'utilitzar
imatges, aquestes estaran en el directori <strong>static</strong> del mòdul.</p>
<p><strong>Fer un banner route pas a pas</strong>:</p>
<p>El primer és ficar en el list la referència al <strong>banner_route</strong>:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="w">   </span><span class="nt">&lt;list</span><span class="w"> </span><span class="na">banner_route=</span><span class="s">&quot;/negocity/city_banner&quot;</span><span class="w"> </span><span class="nt">&gt;</span>
</span></code></pre></div>
<p>Ara cal crear el <strong>web controller</strong> que implementa aquesta ruta (es
recomana en controllers.py):</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kn">from</span> <span class="nn">odoo</span> <span class="kn">import</span> <span class="n">http</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="k">class</span> <span class="nc">banner_city_controller</span><span class="p">(</span><span class="n">http</span><span class="o">.</span><span class="n">Controller</span><span class="p">):</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>    <span class="nd">@http</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/negocity/city_banner&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;json&#39;</span><span class="p">)</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>    <span class="k">def</span> <span class="nf">banner</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>            <span class="s1">&#39;html&#39;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="s2">                &lt;div  class=&quot;negocity_banner&quot; </span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="s2">                style=&quot;height: 200px; background-size:100%; background-image: url(/negocity/static/src/img/negocity_city.jpg)&quot;&gt;</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="s2">                &lt;div class=&quot;negocity_button&quot; style=&quot;position: static; color:#fff;&quot;&gt;&lt;a&gt;Generate Cities&lt;/a&gt;&lt;/div&gt;</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="s2">                &lt;/div&gt; &quot;&quot;&quot;</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>        <span class="p">}</span>
</span></code></pre></div>
<p>En aquest cas, el CSS es podria fer un estil en CSS segons les
instruccions de <a href="El_client_Web_Odoo" title="wikilink">El client Web Odoo</a>.</p>
<p>El resultat és un banner amb un <code>&lt;a&gt;</code> que, de moment, no fa res.
Anem a donar-li funcionalitat a l\'enllaç. El primer és assignar-li un
action:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="w">                 </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;banner_button&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;action&quot;</span><span class="w"> </span><span class="na">data-reload-on-close=</span><span class="s">&quot;true&quot;</span><span class="w"> </span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">                </span><span class="na">role=</span><span class="s">&quot;button&quot;</span><span class="w"> </span><span class="na">data-method=</span><span class="s">&quot;action_generate_cities&quot;</span><span class="w"> </span><span class="na">data-model=</span><span class="s">&quot;negocity.city&quot;</span><span class="nt">&gt;</span>Generate<span class="w"> </span>Cities<span class="nt">&lt;/a&gt;</span>
</span></code></pre></div>
<p>Segons les instruccions de
<strong>addons/web/static/src/js/views/abstract_controller.js</strong>, si fem un
<code>&lt;a&gt;</code> amb un <strong>type=\"action\"</strong>, el JS d\'Odoo interpretarà que
ha de cridar al backend a una funció d\'un model en concret. La resta de
dades es fan com l\'exemple. La funció que diu <strong>data-method</strong> és una
funció que ha d\'estar en el model que diu <strong>data-model</strong>.</p>
<h2 id="les-vistes-form">Les vistes form</h2>
<p>Per a que un form quede bé, es pot inclure la etiqueta
<strong><code>&lt;sheet&gt;</code></strong>, que fa que no ocupe tota la pantalla encara que
siga panoràmica.</p>
<p>Tot sheet ha de tindre <strong><code>&lt;group&gt;</code></strong> i dins els fields. Es poden
fer els group que vullgam i poden tindre string per mostrar un títol.</p>
<p>Si no utilitzem l\'etiquet group, els fields no tindran label, no
obstant, coses com el class=\"oe_edit_only\" no funcionen en el group,
per tant, cal utilitzar l\'etiqueta <strong><code>&lt;label for="name"&gt;</code></strong></p>
<p>Per facilitar la gestió, un form pot tindre pestanyes temàtiques. Es fa
en <strong><code>&lt;notebook&gt;</code> <code>&lt;page string="titol"&gt;</code></strong></p>
<p>Es pot separar els grups amb
<strong><code>&lt;separator string="Description for Quotations"/&gt;</code></strong></p>
<p>Alguns <strong>One2Many</strong> donen una vista list que no es adequada, per això es
pot modificar el list per defecte:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;subscriptions&quot;</span><span class="w"> </span><span class="na">colspan=</span><span class="s">&quot;4&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">   </span><span class="nt">&lt;list&gt;</span>...<span class="nt">&lt;/list&gt;</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nt">&lt;/field&gt;</span>
</span></code></pre></div>
<p>O especificar la vista que volem:
``xml
    <field name="subscriptions" context="{'list_view_ref': 'modul.view_subscriptions_tree'}"/>
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>En un One2many es pot especificar també el **form** que ens donarà quan
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>anem a crear un nou element.
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>Una altra opció és especificar la vista que insertarà en el field:
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>```xml
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>    &lt;field name=&quot;m2o_id&quot; context=&quot;{&#39;form_view_ref&#39;: &#39;module_name.form_id&#39;}&quot;/&gt;
</span></code></pre></div></p>
<blockquote>
<p>Les vistes tree embegudes tenen limitacions respecte a les cridades amb un action. Per exemple, no poden ser agrupades. </p>
</blockquote>
<p><strong>Valors per defecte en un one2many</strong></p>
<p>Quant creem un One2many en el mode form (o list editable) ens permet
crear elements d\'aquesta relació. Per a aconseguir que, al crear-los,
el camp many2one corresponga al pare des del que es crida, es pot fer
amb el context: Dins del field one2many que
estem fent fiquem aquest codi:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>context=&quot;{&#39;default_<span class="nt">&lt;camp</span><span class="w"> </span><span class="err">many2one</span><span class="nt">&gt;</span>&#39;:active_id}&quot;
</span></code></pre></div>
<p>O este exemple per a dins d\'un action:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;context&quot;</span><span class="nt">&gt;</span>{&quot;default_doctor&quot;:<span class="w"> </span>True}<span class="nt">&lt;/field&gt;</span>
</span></code></pre></div>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>Aquesta sintaxi funciona per a passar per context valors per defecte a un form cridat amb un action. Pot ser en One2many, botons o menús
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>`active_id` és una variable que apunta al id del element que està en aquest moment actiu. Com que estem en un formulari, és el que se està creant o modificant amb en formulari. En el cas de la creació, active_id no està encara apuntant a un element de la base de dades, però funciona internament, encara que en el field no diga res o diga False.
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>En Odoo 14 ja no cal fer-ho, però el manual és vàlid per a altres many2ones o altres valors per defecte
</span></code></pre></div></p>
<p><strong>Domains en Many2ones</strong></p>
<p>Els camps Many2one es poden filtrar, per exemple:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;hotel&quot;</span><span class="w"> </span><span class="na">domain=</span><span class="s">&quot;[(&#39;ishotel&#39;, &#39;=&#39;, True)]&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<p>Funciona tant per a Many2one com per a Many2many.</p>
<h3 id="widgets">Widgets</h3>
<p>Alguns camps, com ara les imatges, es poden mostrar utilitzant un
<strong>widget</strong> distint que el per defecte:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;image&quot;</span><span class="w"> </span><span class="na">widget=</span><span class="s">&quot;image&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_left oe_avatar&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;taken_seats&quot;</span><span class="w"> </span><span class="na">widget=</span><span class="s">&quot;progressbar&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;country_id&quot;</span><span class="w"> </span><span class="na">widget=</span><span class="s">&quot;selection&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;state&quot;</span><span class="w"> </span><span class="na">widget=</span><span class="s">&quot;statusbar&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<p>Les vistes form, tree o kanban de Odoo mostren els fields en els
anomenats widgets. Aquests permeten, per exemple, que les dates tinguen
un calendari o que es mostre una llista en un many2many.</p>
<p>Cada field te un widget per defecte, però es poden canviar si volem
representar la informació de manera distinta. Aquests són els widgets
disponibles per a cada tipus de field, sobretot per al form, encara que
alguns funcionen en el tree:</p>
<h4 id="integer-i-float">Integer i Float</h4>
<p>Els camps integer poden ser representats per molts widgets, es a dir, no
donen error. Encara que no tots tenen sentit, com per exemple el <em>text</em>.</p>
<ul>
<li><strong>widget=\"integer\"</strong>: Tan sols mostra el número sense comes. En
    cas de no tindre valor, mostra 0.</li>
<li><strong>widget=\"char\"</strong>: També mostra el número, si no te valor deixa un
    buit i el camp és més ample.</li>
<li><strong>widget=\"id\"</strong>: Mostra el número però no es pot editar.</li>
<li><strong>widget=\"float\"</strong>: Mostra el número en decimals.</li>
<li><strong>widget=\"percentpie\"</strong>: Mostra un gràfic circular amb el
    percentatge (no funciona en la vista tree ni en kanban).</li>
<li><strong>widget=\"float_time\"</strong>: Mostra els float com si representaren el
    temps.</li>
<li><strong>widget=\"progressbar\"</strong>: Mostra una barra de progrés (funciona en
    la vista tree i form, però no en kanban):</li>
<li><strong>widget=\"monetary\"</strong>: Mostra el número amb 2 decimals.</li>
<li>
<p><strong>widget=\"gauge\"</strong>: Mostra un curiós gràfic de semi-circul. Sols
    funciona en kanban.</p>
<p>Observem un ús real del <code>Gauge</code> per veure com els widgets poden tenir opcions:</p>
</li>
</ul>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;current&quot;</span><span class="w"> </span><span class="na">widget=</span><span class="s">&quot;gauge&quot;</span><span class="w"> </span><span class="na">options=</span><span class="s">&quot;{&#39;max_field&#39;: &#39;target_goal&#39;, &#39;label_field&#39;: &#39;definition_suffix&#39;, &#39;style&#39;: &#39;width:160px; height: 120px;&#39;}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span></code></pre></div>
<h5 id="char_i_text">Char i Text</h5>
<ul>
<li><strong>widget=\"char\"</strong>: Mostra un editor d\'un línia.</li>
<li><strong>widget=\"text\"</strong>: Mostra un camp més alt per fer més d\'una
    línia.</li>
<li><strong>widget=\"email\"</strong>: Crea el enllaç per enviar-li un correu.</li>
<li><strong>widget=\"url\"</strong>: Crea el enllaç amb http.</li>
<li><strong>widget=\"date\"</strong>: Permet guardar dates com cadenes de text.</li>
<li><strong>widget=\"html\"</strong>: Permet guardar textos però amb format. Apareix
    un wysiwyg</li>
<li><strong>dashboard_graph</strong>:</li>
</ul>
<p>Mostra un gràfic menut indicant alguna progressió. Necessita tindre
guardat (o generat) en el char un json determinat, per exemple:</p>
<p><code>[{"values":</code>\
<code>[{"label":"2019-01-31","value": "7"},</code>\
<code>{"label":"2019-02-01","value": "20"},</code>\
<code>{"label":"2019-02-02","value": "45"},</code>\
<code>{"label":"2019-02-03","value": "34"},</code>\
<code>{"label":"2019-02-04","value": "40"},</code>\
<code>{"label":"2019-02-05","value": "67"},</code>\
<code>{"label":"2019-02-06","value": "80"}],</code>\
<code>"area":true, "title": "Next Week", "key": "Ocupation", "color": "#7c7bad"}]</code></p>
<p>I aquest seria un exemple del XML per a que funcione:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;week_ocupation&quot;</span><span class="w"> </span><span class="na">widget=</span><span class="s">&quot;dashboard_graph&quot;</span><span class="w">  </span><span class="na">graph_type=</span><span class="s">&quot;bar&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<p>En els exemples que es poden veure en Odoo, aquests valors són sempre
computed, generant un json i invocant la funció de python json.dumps()
(<a href="https://docs.python.org/3.7/library/json.html">2</a>):</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>           <span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>           <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">record</span><span class="o">.</span><span class="n">sales</span><span class="p">:</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>               <span class="n">reserves</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">quantity</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>               <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;label&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">name</span><span class="p">),</span><span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">reserves</span><span class="p">)})</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>           <span class="n">graph</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="n">values</span><span class="p">,</span> <span class="s1">&#39;area&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Sales&#39;</span><span class="p">,</span> <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;Sales&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#7c7bad&#39;</span><span class="p">}]</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>           <span class="n">h</span><span class="o">.</span><span class="n">graph_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</span></code></pre></div>
<p>Amés, accepta algunes opcions:</p>
<ul>
<li><strong>type</strong>: Pot ser <strong>bar</strong> o <strong>line</strong>. En el cas de ser line, en
    compte de \'label\' i \'value\' cal posar \'x\' i \'y\'.</li>
</ul>
<h4 id="boolean">Boolean</h4>
<ul>
<li><strong>Ribbon</strong>: (Odoo 13) Mostra com una cinta al costat del formulari
    per mostrar un boolean important.</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="o">&lt;</span><span class="n">widget</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;web_ribbon&quot;</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Archived&quot;</span> <span class="n">bg_color</span><span class="o">=</span><span class="s2">&quot;bg-danger&quot;</span> <span class="o">/&gt;</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="o">&lt;</span><span class="n">widget</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;web_ribbon&quot;</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Paid&quot;</span><span class="o">/&gt;</span>
</span></code></pre></div>
<ul>
<li><strong>boolean_toggle</strong> per als trees, permet activar un boolean en un
    tree.</li>
</ul>
<h4 id="date">Date</h4>
<ul>
<li><strong>Daterange</strong>: Mostra un rang de dates</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="n">date_begin</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Datetime</span><span class="p">(</span> <span class="n">string</span><span class="o">=</span><span class="s1">&#39;Start Date&#39;</span><span class="p">)</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="o">&lt;</span><span class="n">field</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;date_begin&quot;</span> <span class="n">widget</span><span class="o">=</span><span class="s2">&quot;daterange&quot;</span><span class="o">/&gt;</span>
</span></code></pre></div>
<h4 id="many2one">Many2one</h4>
<ul>
<li><strong>widget=\"many2one\"</strong>: Per defecte, crea un selection amb opció de
    crear nous. Accepta arguments per evitar les opcions de crear:</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a> <span class="o">&lt;</span><span class="n">field</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;field_name&quot;</span> <span class="n">options</span><span class="o">=</span><span class="s2">&quot;{&#39;no_create&#39;: True, &#39;no_open&#39;: True}&quot;</span><span class="o">/&gt;</span>
</span></code></pre></div>
<ul>
<li><strong>widget=\"many2onebutton\"</strong>: Crea un simple botó que indica si
    està assignat. Si polses s\'obri el formulari.</li>
</ul>
<h4 id="many2many">Many2Many</h4>
<ul>
<li><strong>widget=\"many2many\"</strong>: Per defecte, crea una llista amb opció de
    esborrar o afegir nous.</li>
<li><strong>widget=\"many2many_tags\"</strong>: Llista amb etiquetes com en els
    filtres</li>
<li><strong>widget=\"many2many_checkboxes\"</strong>: Llista de checkboxes.</li>
<li><strong>widget=\"many2many_kanban\"</strong>: Mostra un kanban dels que té
    associats, necessita que la vista kanban estiga definida.</li>
<li><strong>widget=\"x2many_counter\"</strong>: Mostra sols la quantitat.</li>
<li><strong>many2many_tags_avatar</strong>:</li>
</ul>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>partner_ids<span class="w"> </span>=<span class="w"> </span>fields.Many2many(&#39;res.partner&#39;,<span class="w"> </span>&#39;calendar_event_res_partner_rel&#39;,<span class="w"> </span>string=&#39;Attendees&#39;)
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;partner_ids&quot;</span><span class="w"> </span><span class="na">widget=</span><span class="s">&quot;many2many_tags_avatar&quot;</span><span class="w"> </span><span class="na">write_model=</span><span class="s">&quot;calendar.contacts&quot;</span><span class="w"> </span><span class="na">write_field=</span><span class="s">&quot;partner_id&quot;</span><span class="w"> </span><span class="na">avatar_field=</span><span class="s">&quot;image_128&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<h4 id="one2many">One2many</h4>
<ul>
<li><strong>widget=\"one2many\"</strong>: Per defecte.</li>
<li><strong>widget=\"one2many_list\"</strong>: Aparentment igual, es manté per
    retrocompatibilitat</li>
</ul>
<h4 id="modificar-el-tree-del-one2many">Modificar el tree del One2many</h4>
<p>El one2many, al igual que el many2one es poden vorer en format tree. Per
defecte agafa el tree definit del model, però es pot especificar el tree
que volem veure:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="w">  </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;fortress&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="w">   </span><span class="nt">&lt;tree&gt;</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">     </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">/&gt;&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;level&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">   </span><span class="nt">&lt;/tree&gt;</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">  </span><span class="nt">&lt;/field&gt;</span>
</span></code></pre></div>
<p>Inclús es pot forçar a mostrar un kanban:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;gallery&quot;</span><span class="w"> </span><span class="na">mode=</span><span class="s">&quot;kanban,tree&quot;</span><span class="w"> </span><span class="na">context=</span><span class="s">&quot;{&#39;default_hotel_id&#39;:active_id}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">                 </span><span class="nt">&lt;kanban&gt;</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">                 </span><span class="cm">&lt;!--list of field to be loaded --&gt;</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">                 </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">                 </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;image&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">                 </span><span class="nt">&lt;templates&gt;</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">                 </span><span class="nt">&lt;t</span><span class="w"> </span><span class="na">t-name=</span><span class="s">&quot;kanban-box&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="w">                     </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_product_vignette&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="w">                     </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;open&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="w">                        </span><span class="nt">&lt;img</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_kanban_image&quot;</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;width:300px; height:auto;&quot;</span>
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="w">                        </span><span class="na">t-att-src=</span><span class="s">&quot;kanban_image(&#39;marsans.hotel.galley&#39;, &#39;image&#39;, record.id.value)&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="w">                    </span><span class="nt">&lt;/a&gt;</span>
</span><span id="__span-31-14"><a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="w">                    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_product_desc&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-31-15"><a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="w">                        </span><span class="nt">&lt;h4&gt;</span>
</span><span id="__span-31-16"><a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="w">                        </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;edit&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-31-17"><a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="w">                            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;&lt;/field&gt;</span>
</span><span id="__span-31-18"><a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="w">                        </span><span class="nt">&lt;/a&gt;</span>
</span><span id="__span-31-19"><a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="w">                        </span><span class="nt">&lt;/h4&gt;</span>
</span><span id="__span-31-20"><a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a>
</span><span id="__span-31-21"><a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="w">                    </span><span class="nt">&lt;/div&gt;</span>
</span><span id="__span-31-22"><a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="w">                    </span><span class="nt">&lt;/div&gt;</span>
</span><span id="__span-31-23"><a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="w">                    </span><span class="nt">&lt;/t&gt;</span>
</span><span id="__span-31-24"><a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="w">                    </span><span class="nt">&lt;/templates&gt;</span>
</span><span id="__span-31-25"><a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="w">                </span><span class="nt">&lt;/kanban&gt;</span>
</span><span id="__span-31-26"><a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="w">                </span><span class="nt">&lt;/field&gt;</span>
</span></code></pre></div>
<p>De vegades, el kanban este no funciona perquè no força a carregar les
imatges.</p>
<h4 id="binary-o-image">Binary o Image</h4>
<ul>
<li><strong>signature</strong>: Permet signar dirènctament en la pantalla</li>
<li><strong>image</strong>: A banda del que es pot ficar en el field de max_width o
    max_height, al widget es pot afegir opcions com:</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>    <span class="n">options</span><span class="o">=</span><span class="s2">&quot;{&amp;quot;zoom&amp;quot;: true, &amp;quot;preview_image&amp;quot;: &amp;quot;image_128&amp;quot;}</span>
</span></code></pre></div>
<h4 id="selection">Selection</h4>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="w">           </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;state&quot;</span><span class="w"> </span><span class="na">decoration-success=</span><span class="s">&quot;state == &#39;sale&#39; or state == &#39;done&#39;&quot;</span><span class="w"> </span><span class="na">decoration-info=</span><span class="s">&quot;state == &#39;draft&#39; or state == &#39;sent&#39;&quot;</span><span class="w"> </span><span class="na">widget=</span><span class="s">&quot;badge&quot;</span><span class="w"> </span><span class="na">optional=</span><span class="s">&quot;show&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<h4 id="fields-dels-trees">Fields dels trees</h4>
<ul>
<li><strong>handle</strong>: Per a ordenar a ma. Cal que aquest camp siga el criteri
    d\'ordenació.</li>
</ul>
<p><strong>Reescalar les imatges</strong></p>
<p>Molt a sovint, tenim la necessitat de reescalar les imatges que
l\'usuari penja. A partir d\'Odoo 13 tenim el field Image que permet
tindre diferents resolucions amb varis related</p>
<h4 id="buttons">buttons</h4>
<p>Podem introduir un botó en el form:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="w"> </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;update_progress&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;object&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;update&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_highlight&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- El name ha de ser igual que la funció a la que crida. --&gt;</span><span class="w">   </span>
</span></code></pre></div>
<p>La funció pot ser una del model en el que està o un action. En el type
cal indicar el tipus amb: <strong>object, action, url, client</strong> En l\'exemple
anterior, el button és de tipus object. Aixó vol dir que crida a una
funció del model al que represente el formulari que el conté.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>És important que el record sobre el que es pulsa un botó de tipus object estiga ja guardat, ja que si no existeix en la base de dades, el servidor no té la seua &#39;&#39;&#39;id&#39;&#39;&#39; i pot fer res. Per això, un botó polsat en fase de creació crida primer a la funció create().
</span></code></pre></div>
<p>Per a fer un butó que cride a un altre formulari, s\'ha de fer en un
tipus <strong>action</strong>. Amés, per ficar la id del <strong>action</strong> al que es vol
cridar, cal ficar el prefixe i sufixe <strong>%(...)d</strong>, com en l\'exemple:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="w"> </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;%(launch_mmog_fortress_wizard)d&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;action&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Launch attack&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_highlight&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span></code></pre></div>
<p>D\'aquesta manera, un formulari, té un botó que, al ser polsat, envia el
ID de <strong>l\'action</strong> a executar als servidor, aquest li retorna un action
per a que el client l\'execute. L\'action pot obrir una altra finestra o
un <em>pop-up</em>. En qualsevol cas, aquest action executat en el client,
demana la vista i les dades que vol mostrar i les mostra. Aquesta és la
raó de la sintaxis <strong>%(...)d</strong>. 
Ja que es tracta d\'un <strong>External Id</strong> a una action guardada en la base de
dades.</p>
<p>Els <em>buttons</em> poden tindre una icona. Odoo proporciona algunes que es
poden trobar a aquesta web:
<a href="https://es.slideshare.net/TaiebKristou/odoo-icon-smart-buttons">1</a></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="nt">&lt;button</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;test&quot;</span><span class="w"> </span><span class="na">icon=</span><span class="s">&quot;fa-star-o&quot;</span><span class="w"> </span><span class="na">confirm=</span><span class="s">&quot;Are you sure?&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>Esborrar:<span class="w"> </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;object&quot;</span><span class="w"> </span><span class="na">icon=</span><span class="s">&quot;fa-trash-o&quot;</span><span class="w">  </span><span class="na">name=</span><span class="s">&quot;unlink&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<p>En l\'exemple anterior, també hem ficat l\'atribut <strong>confirm</strong> per
mostrar una pregunta a l\'usuari. Els <em>buttons</em> es poden posar per el
form, encara que es recomana en el header:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="nt">&lt;header&gt;</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="w"> </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;state&quot;</span><span class="w"> </span><span class="na">widget=</span><span class="s">&quot;statusbar&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="w"> </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;accept&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;object&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Accept&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_highlight&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w"> </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">special=</span><span class="s">&quot;cancel&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Cancel&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="nt">&lt;/header&gt;</span>
</span></code></pre></div>
<p>Els botons sempre executen una funció de Javascript en la part del
client web que demana alguna cosa al servidor. En el cas dels button
<strong>action</strong>, demana el action, per després executar aquesta. En el cas
dels buttons <strong>object</strong> demana que s\'execute una funció del model i
recordset actual en el servidor. El client web es queda a l\'espera
d\'una resposta del servidor, que si és un diccionari buit, provoca un
refresc de la pàgina, però pot retornar moltes coses: <strong>warnings</strong>,
<strong>domains</strong>, <strong>actions</strong>... i el client ha d\'actuar en conseqüència.
Els buttons poden tindre també <a href="Odoo#Context" title="wikilink"><strong>context</strong></a>
per enviar alguna cosa extra al servidor.</p>
<p><strong>Smart Buttons</strong>
<a href="https://www.slideshare.net/openobject/odoo-smart-buttons">2</a></p>
<p>En el formulari dels client, podem veure aquests botons.</p>
<p>Es tracta de botons que, amés d\'executar-se, mostren una informació
resumida i una icona. El text i la forma del botó es modifica
dinàmicament en funció d\'alguns criteris i això li dona més comoditat a
l\'usuari. Per exemple, si sols vol saber quantes factures té eixe
client, el botó li ho diu. Si polsa el botó ja va a les factures en
detall.</p>
<p>Per fer-los, el primer és modificar la seua forma, de botó
automàticament creat per el navegador a un rectangle. Això odoo ho pot
fer per CSS amb la classe <strong>class=\"oe_stat_button\"</strong>. A continuació,
se li posa una icona <strong>icon=\"fa-star\"</strong>.
<a href="https://es.slideshare.net/TaiebKristou/odoo-icon-smart-buttons">3</a>. A
partir d\'ahí, l\'etiqueta <strong><code>&lt;button&gt;</code></strong> pot contindre el
contingut que desitgem. Per exemple, camps <em>computed</em> que mostren el
resum del formulari que va a obrir.</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="w">       </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_button_box&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="w">             </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;object&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_stat_button&quot;</span><span class="w"> </span><span class="na">icon=</span><span class="s">&quot;fa-pencil-square-o&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;regenerate_password&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">                        </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;o_form_field o_stat_info&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">                            </span><span class="nt">&lt;span</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;o_stat_value&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">                                </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;password&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Password&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="w">                            </span><span class="nt">&lt;/span&gt;</span>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="w">                            </span><span class="nt">&lt;span</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;o_stat_text&quot;</span><span class="nt">&gt;</span>Password<span class="nt">&lt;/span&gt;</span>
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="w">                        </span><span class="nt">&lt;/div&gt;</span>
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="w">                    </span><span class="nt">&lt;/button&gt;</span>
</span><span id="__span-39-10"><a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="w">            </span><span class="nt">&lt;/div&gt;</span>
</span></code></pre></div>
<h4 id="formularis-dinamics">Formularis dinàmics</h4>
<p>Els fields dels formularis permet modificar el seu comportament en
funció de condicions. Per exemple, ocultar amb <strong>invisible</strong>, permetre
ser editat o no amb <strong>readonly</strong> o <strong>required</strong>.</p>
<p><strong>Ocultar condicionalment un field</strong></p>
<p>Es pot ocultar un field si algunes condicions no es cumpleixen. Per
exemple:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;boyfriend_name&quot;</span><span class="w"> </span><span class="na">invisible =</span><span class="w"> </span><span class="s">&quot;married != False&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<p>Tambés es pot ocultar i mostrar sols en el mode edició o lectura:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;partit&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_edit_only&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;equip&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_read_only&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<p>O mostrar si un camp anomenat <strong>state</strong> té un determinat valor:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="w"> </span><span class="nt">&lt;group</span><span class="w"> </span><span class="na">invisible =</span><span class="w"> </span><span class="s">&quot;state in [&#39;player&#39;, &#39;stats&#39;]&quot;</span><span class="w"> </span><span class="nt">&gt;&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;dia&quot;</span><span class="nt">/&gt;&lt;/group&gt;</span>
</span></code></pre></div>
<p>En el següent exemple, introdueix dos conceptes nous: el
<strong>column_invisible</strong> per ocultar una columna d\'un list i el <strong>parent</strong>
per fer referència al valor d\'un field de la vista pare:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;lot_id&quot;</span><span class="w"> </span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="na">attrs=</span><span class="s">&quot;{&#39;column_invisible&#39;: [(&#39;parent.state&#39;, &#39;not in&#39;, [&#39;sale&#39;, &#39;done&#39;])] }&quot;</span>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="nt">/&gt;</span>
</span></code></pre></div>
<p><strong>Editar condicionalment un field</strong></p>
<p>Es pot afegir <strong>readonly</strong></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name2&quot;</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="na">readonly =</span><span class="w"> </span><span class="s">&quot;condition == False&quot;</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="nt">/&gt;</span>
</span></code></pre></div>
<p>Aquests exemples combinen tots:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="w"> </span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="na">invisible =</span><span class="w"> </span><span class="s">&quot;condition1 == False&quot;</span><span class="w"> </span>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="na">required =</span><span class="w"> </span><span class="s">&quot;condition2 == True&quot;</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="na">readonly =</span><span class="w"> </span><span class="s">&quot;condition3 == True&quot;</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;suma&quot;</span><span class="w"> </span>
</span><span id="__span-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="na">readonly =</span><span class="w"> </span><span class="s">&quot;valor == &#39;calculat&quot;</span>
</span><span id="__span-45-9"><a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="na">invisible =</span><span class="w"> </span><span class="s">&quot;servici in [&#39;Reparacions&#39;,&#39;Manteniment&#39;] or client == &#39;Pepe&#39;&quot;</span>
</span><span id="__span-45-10"><a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a><span class="nt">/&gt;</span>
</span></code></pre></div>
<p><strong>readonly</strong></p>
<p>En ocasions volem que un field siga readonly, al no poder editar, no pot
ser required. En cas de ser modificar per un Onchage i es vulga guardar,
cal afegir:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;salary&quot;</span><span class="w"> </span><span class="na">readonly=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">force_save=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span><span class="w"> </span>
</span></code></pre></div>
<h3 id="vistes-kanban">Vistes Kanban</h3>
<p>Les vistes kanban són per a mostrar el model en forma de \'cartes\'. Les
vistes kanban se declaren amb una mescla de xml, html i plantilles
<strong>Qweb</strong>.</p>
<p>Un Kanban és una mescla entre list i form. En Odoo, les vistes tenen una
estructura jeràrquica. En el cas del Kanban, està la <strong>vista Kanban</strong>,
que conté molts <strong>Kanban Box</strong>, un per a cada <em>record</em> mostrat. Cada
kanban box té dins un <em>div</em> de <em>class</em> <strong>vignette</strong> o <strong>card</strong> i, dins,
els <strong>Widgets</strong> per a cada field.</p>
<div class="language-text highlight"><pre><span></span><code>             Window
+---------------------------+
|     Kanban View           |
| +----------+ +----------+ |
| |Kanban Box| |Kanban Box| |
| +----------+ +----------+ |
| || Widget || || Widget || |
| |----------| |----------| |
| |----------| |----------| |
| || Widget || || Widget || |
| |----------| |----------| |
| +----------+ +----------+ |
|                           |
+---------------------------+
</code></pre></div>
<p>Per mostrar un Kanban, la vista de Odoo, obri un action Window, dins
clava una caixa que ocupa tota la finestra i va recorreguent els records
que es tenen que mostrant i dibuixant els widgets de cada record.</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>A diferència en els lists o forms, els kanbans poden ser molt variats i han de deixar llibertat per ser dissenyats. És per això, que els desenvolupadors d&#39;Odoo no han proporcionat unes etiquetes i atributs XML d&#39;alt nivell com passa en els forms o lists, en els que no hem de preocupar-nos de la manera en que serà renderitzar, el CSS o cóm obté els fields de la base de dades. Al fer un Kanban, entrem al nivel de QWeb, per el que controlem plantilles, CSS i indicacions i funcions per al Javascript. Tot això està ocult en la resta de vistes, però en Kanban és impossible ocultar-ho.
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a>Es poden utilitzar certs widgets en els fields com `image` o `progress_bar`, però són molts menys widgets que en els forms o lists.
</span></code></pre></div>
Exemple bàsic:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="nt">&lt;record</span><span class="w"> </span><span class="na">model=</span><span class="s">&quot;ir.ui.view&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;socio_kanban_view&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="w">            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>cooperativa.socio<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;model&quot;</span><span class="nt">&gt;</span>cooperativa.socio<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="w">            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;arch&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;xml&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="w">                </span><span class="nt">&lt;kanban&gt;</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="w">                    </span><span class="cm">&lt;!--list of field to be loaded --&gt;</span>
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="w">                    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-48-8"><a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="w">                    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- És important afegir el id per al record.id.value --&gt;</span>
</span><span id="__span-48-9"><a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="w">                    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;foto&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-48-10"><a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="w">                    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;arrobas&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-48-11"><a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a>
</span><span id="__span-48-12"><a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="w">                    </span><span class="nt">&lt;templates&gt;</span>
</span><span id="__span-48-13"><a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="w">                    </span><span class="nt">&lt;t</span><span class="w"> </span><span class="na">t-name=</span><span class="s">&quot;kanban-box&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-14"><a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a><span class="w">                            </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_product_vignette&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-15"><a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a><span class="w">                                </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;open&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-16"><a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a><span class="w">                                    </span><span class="nt">&lt;img</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_kanban_image&quot;</span>
</span><span id="__span-48-17"><a id="__codelineno-48-17" name="__codelineno-48-17" href="#__codelineno-48-17"></a><span class="w">                                        </span><span class="na">t-att-alt=</span><span class="s">&quot;record.name.value&quot;</span>
</span><span id="__span-48-18"><a id="__codelineno-48-18" name="__codelineno-48-18" href="#__codelineno-48-18"></a><span class="w">                                        </span><span class="na">t-att-src=</span><span class="s">&quot;kanban_image(&#39;cooperativa.socio&#39;, &#39;foto&#39;, record.id.value)&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-48-19"><a id="__codelineno-48-19" name="__codelineno-48-19" href="#__codelineno-48-19"></a><span class="w">                                </span><span class="nt">&lt;/a&gt;</span>
</span><span id="__span-48-20"><a id="__codelineno-48-20" name="__codelineno-48-20" href="#__codelineno-48-20"></a><span class="w">                                </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;oe_product_desc&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-21"><a id="__codelineno-48-21" name="__codelineno-48-21" href="#__codelineno-48-21"></a><span class="w">                                    </span><span class="nt">&lt;h4&gt;</span>
</span><span id="__span-48-22"><a id="__codelineno-48-22" name="__codelineno-48-22" href="#__codelineno-48-22"></a><span class="w">                                        </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;edit&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-23"><a id="__codelineno-48-23" name="__codelineno-48-23" href="#__codelineno-48-23"></a><span class="w">                                            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;&lt;/field&gt;</span>
</span><span id="__span-48-24"><a id="__codelineno-48-24" name="__codelineno-48-24" href="#__codelineno-48-24"></a><span class="w">                                        </span><span class="nt">&lt;/a&gt;</span>
</span><span id="__span-48-25"><a id="__codelineno-48-25" name="__codelineno-48-25" href="#__codelineno-48-25"></a><span class="w">                                    </span><span class="nt">&lt;/h4&gt;</span>
</span><span id="__span-48-26"><a id="__codelineno-48-26" name="__codelineno-48-26" href="#__codelineno-48-26"></a><span class="w">                                    </span><span class="nt">&lt;ul&gt;</span>
</span><span id="__span-48-27"><a id="__codelineno-48-27" name="__codelineno-48-27" href="#__codelineno-48-27"></a>
</span><span id="__span-48-28"><a id="__codelineno-48-28" name="__codelineno-48-28" href="#__codelineno-48-28"></a><span class="w">                                       </span><span class="nt">&lt;li&gt;</span>Arrobas:<span class="w"> </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;arrobas&quot;</span><span class="nt">&gt;&lt;/field&gt;&lt;/li&gt;</span>
</span><span id="__span-48-29"><a id="__codelineno-48-29" name="__codelineno-48-29" href="#__codelineno-48-29"></a><span class="w">                                    </span><span class="nt">&lt;/ul&gt;</span>
</span><span id="__span-48-30"><a id="__codelineno-48-30" name="__codelineno-48-30" href="#__codelineno-48-30"></a><span class="w">                                </span><span class="nt">&lt;/div&gt;</span>
</span><span id="__span-48-31"><a id="__codelineno-48-31" name="__codelineno-48-31" href="#__codelineno-48-31"></a><span class="w">                            </span><span class="nt">&lt;/div&gt;</span>
</span><span id="__span-48-32"><a id="__codelineno-48-32" name="__codelineno-48-32" href="#__codelineno-48-32"></a><span class="w">                        </span><span class="nt">&lt;/t&gt;</span>
</span><span id="__span-48-33"><a id="__codelineno-48-33" name="__codelineno-48-33" href="#__codelineno-48-33"></a><span class="w">                    </span><span class="nt">&lt;/templates&gt;</span>
</span><span id="__span-48-34"><a id="__codelineno-48-34" name="__codelineno-48-34" href="#__codelineno-48-34"></a><span class="w">                </span><span class="nt">&lt;/kanban&gt;</span>
</span><span id="__span-48-35"><a id="__codelineno-48-35" name="__codelineno-48-35" href="#__codelineno-48-35"></a><span class="w">            </span><span class="nt">&lt;/field&gt;</span>
</span><span id="__span-48-36"><a id="__codelineno-48-36" name="__codelineno-48-36" href="#__codelineno-48-36"></a><span class="w">        </span><span class="nt">&lt;/record&gt;</span>
</span></code></pre></div>
<p>En l\'anterior vista kanban cal comentar les línies.</p>
<p>Al principi es declaren els fields que han de ser mostrats. Si no es
necessiten per a la lògica del kanban i sols han de ser mostrats no cal
que estiguen declarats al principi. No obstant, per que l\'exemple
estiga complet els hem deixat. Aquesta declaració, fa demanar els fields
en la primera petició asíncrona de dades. Els no especificats ací, són
demanats després, però no estan disponibles per a que el Javascript puga
utilitzar-los.</p>
<p>A continuació ve un template <strong>Qweb</strong> en el que cal definir una etiqueta
<strong><code>&lt;t t-name="kanban-box"&gt;</code></strong> que serà renderitzada una vegada
per cada element del model.</p>
<p>Dins del template, es declaren divs o el que necessitem per donar-li el
aspecte definitiu. Odoo ja té en el seu CSS unes classes per al
productes o partners que podem aprofitar. El primer <strong>div</strong> defineix la
forma i aspecte de cada caixa. Hi ha múltiples classes CSS que es poden
utilitzar. Les que tenen <strong>vignette</strong> en principi no mostren vores ni
colors de fons. Les que tenen <strong>card</strong> tenen el <em>border</em> prou marcat i
un color de fons. Les bàsiques són <strong>oe_kanban_vignette</strong> i
<strong>oe_kanban_card</strong>.</p>
<p>Hi ha molts altres CSS que podem estudiar i utilitzar. Per exemple, els
oe_kanban_image per a fer la imatge d\'una mida adequada o el
oe_product_desc que ajuda a colocar el text al costat de la foto. En
l\'exemple, usem uns <strong><code>&lt;a&gt;</code></strong> amb dos tipus: open i edit. Segons
el que posem, al fer click ens obri el form en mode vista o edició.
Aquests botons o enllaços poden tindre aquestes funcions:</p>
<ul>
<li><strong>action</strong>, <strong>object</strong>: Com en els botons dels forms, criden a
    accions o a mètodes.</li>
<li><strong>open</strong>, <strong>edit</strong>, <strong>delete</strong>: Efectua aquestes accions al record
    que representa el kanban box.</li>
</ul>
<p>Si ja volem fer un kanban més avançat, tenim aquestes opcions:</p>
<ul>
<li>En la etiqueta <strong><code>&lt;kanban&gt;</code></strong>:<ul>
<li><strong>default_group_by</strong> per agrupar segons algun criteri al agrupar
    apareixen opcions per crear nous elements sense necessitat
    d\'entrar al formulari.</li>
<li><strong>default_order</strong> per ordenar segons algun criteri si no s\'ha
    ordenat en el list.</li>
<li><strong>quick_create</strong> a true o false segons vulguem que es puga crear
    elements sobre la marxa sense el form. Per defecte és false si
    no està agrupat i true si està agrupat.</li>
</ul>
</li>
<li>En cada <strong>field</strong>:<ul>
<li><strong>sum, avg, min, max, count</strong> com a funcions d\'agregació en els
    kanbans agrupats.</li>
</ul>
</li>
<li>Dins del <strong>template</strong>:<ul>
<li>Cada <strong>field</strong> pot tindre un <strong>type</strong> que pot ser open, edit,
    action, delete.</li>
</ul>
</li>
<li>Una serie de funcions javascript:<ul>
<li><strong>kanban_image()</strong> que accepta com a argument: model, field, id,
    cache i retorna una url a una imatge. La raó és perquè la imatge
    està en base64 i dins de la base de dades i cal convertir-la per
    mostrar-la.</li>
<li><strong>kanban_text_ellipsis(string[, size=160])</strong> per acurtar
    textos llargs, ja que el kanban sols és una previsualització.</li>
<li><strong>kanban_getcolor(raw_value)</strong> per a obtindre un color dels 0-9
    que odoo te predefinits en el CSS a partir de qualsevol field
    bàsic.</li>
<li><strong>kanban_color(raw_value)</strong> Si tenim un field <strong>color</strong> que pot
    definir de forma específica el color que necessitem. Aquest
    field tindrà un valor de 0-9.</li>
</ul>
</li>
</ul>
<p><strong>Forms dins de kanbans</strong>:</p>
<p>A partir de la versió 12 es pot introduir un form dins d\'un kanban,
encara que es recomana que siga simple. Aquest funciona si tenim activat
el <strong>quick_create</strong> i preferiblement quan el kanban està agrupat per
Many2one o altres. Observem, per exemple el kanban de la secció de
tasques del mòdul de proyecte:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="nt">&lt;kanban</span><span class="w"> </span><span class="na">default_group_by=</span><span class="s">&quot;stage_id&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;o_kanban_small_column o_kanban_project_tasks&quot;</span><span class="w"> </span><span class="na">on_create=</span><span class="s">&quot;quick_create&quot;</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="w"> </span><span class="na">quick_create_view=</span><span class="s">&quot;project.quick_create_task_form&quot;</span><span class="w"> </span><span class="na">examples=</span><span class="s">&quot;project&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a>....
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="nt">&lt;/kanban&gt;</span>
</span></code></pre></div>
<p>Com podem observar, té activat el <strong>quick_create</strong> i una referència al
identificador extern d\'una vista form en <strong>quick_create_view</strong>. Aquest
és el contingut del form:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="nt">&lt;form&gt;</span>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="w">  </span><span class="nt">&lt;group&gt;</span>
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="w">     </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Task Title&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="w">     </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;user_id&quot;</span><span class="w"> </span><span class="na">options=</span><span class="s">&quot;{&#39;no_open&#39;: True,&#39;no_create&#39;: True}&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="w">  </span><span class="nt">&lt;/group&gt;</span>
</span><span id="__span-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="w"> </span><span class="nt">&lt;/form&gt;</span>
</span></code></pre></div>
<h4 id="imatges-en-els-kanbans">Imatges en els Kanbans</h4>
<p>En molts llocs trobarem la funció <code>kanban_image</code>. És la manera correcta de fer-ho en Qweb. Necessita posar el camp <code>id</code> el principi. però també es pot utilitzar dirèctament el <code>widget="image"</code> com en els forms. </p>
<h3 id="vistes-search">Vistes search</h3>
<p>Les vistes search tenen 3 tipus:</p>
<ul>
<li><strong>field</strong> que permeten buscar en un determinat camp.</li>
<li><strong>filter</strong> amb <strong>domain</strong> per filtrar per un valor predeterminat.</li>
<li><strong>filter</strong> amb <strong>group</strong> per agrupar per algun criteri.</li>
</ul>
<p>Pel que fa a les search <strong>field</strong>, sols cal indicar quins fields seran
buscats.</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="nt">&lt;search&gt;</span>
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="w">    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;inventor_id&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="nt">&lt;/search&gt;</span>
</span></code></pre></div>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a>Els fields han de ser guardats en la base de dades, encara que siguen de tipus &#39;&#39;&#39;computed&#39;&#39;&#39;
</span></code></pre></div>
Les <strong>field</strong> poden tindre un <strong>domain</strong> per especificar quin tipus de
búsqueda volem. Per exemple:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;description&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Name and description&quot;</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="w">    </span><span class="na">filter_domain=</span><span class="s">&quot;[&#39;|&#39;, (&#39;name&#39;, &#39;ilike&#39;, self), (&#39;description&#39;, &#39;ilike&#39;, self)]&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<p>Busca per 'name' i 'description' amb un domini que busca que es parega
en "case-insensitive" (ilike) el que escriu l'usuari (self) amb el name
o amb la descripció.</p>
<p>o:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;cajones&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Boxes or @&quot;</span><span class="w"> </span><span class="na">filter_domain=</span><span class="s">&quot;[&#39;|&#39;,(&#39;cajones&#39;,&#39;=&#39;,self),(&#39;arrobas&#39;,&#39;=&#39;,self)]&quot;</span><span class="nt">/&gt;</span><span class="w"> </span>
</span></code></pre></div>
<p>Busca per <em>cajones o arrobas</em> sempre que l\'usuari pose el mateix
número.</p>
<p>Les <strong>filter</strong> amb <strong>domain</strong> són per a predefinir filtres o búsquedes.
Per exemple:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="nt">&lt;filter</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_ideas&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;My Ideas&quot;</span><span class="w"> </span><span class="na">domain=</span><span class="s">&quot;[(&#39;inventor_id&#39;, &#39;=&#39;, uid)]&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="nt">&lt;filter</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;more_100&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;More than 100 boxes&quot;</span><span class="w"> </span><span class="na">domain=</span><span class="s">&quot;[(&#39;cajones&#39;,&#39;&gt;&#39;,100)]&quot;</span><span class="nt">/&gt;</span><span class="w"> </span>
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="nt">&lt;filter</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Today&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Today&quot;</span><span class="w"> </span><span class="na">domain=</span><span class="s">&quot;[(&#39;date&#39;, &#39;&amp;gt;=&#39;, datetime.datetime.now().strftime(&#39;%Y-%m-%d 00:00:00&#39;)),</span>
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="s">                                             (&#39;date&#39;, &#39;&amp;lt;=&#39;,datetime.datetime.now().strftime(&#39;%Y-%m-%d 23:23:59&#39;))]&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a>Els filtres sols poden comparar un field amb un valor específic. Així que si volem comparar dos fields cal fer una funció.
</span></code></pre></div>
<h4 id="operadors-per-als-domains">Operadors per als domains:</h4>
<p>\'like\': [(\'input\', \'like\', \'open\')] - Returns case sensitive
(wildcards - \'%open%\') search.</p>
<p>O/p: open, opensource, openerp, Odooopenerp</p>
<p>\'not like\': [(\'input\', \'not like\', \'open\')] - Returns results
not matched with case sensitive (wildcards - \'%open%\') search.</p>
<p>O/p: Openerp, Opensource, Open, Odoo, odoo, OdooOpenerp</p>
<p>\'=like\': [(\'name\', \'=like\', \'open\')] - Returns exact (=
\'open\') case sensitive search.</p>
<p>O/p: open</p>
<p>\'ilike\': [(\'name\', \'ilike\', \'open\')] - Returns exact case
insensitive (wildcards - \'%open%\') search.</p>
<p>O/p: Openerp, openerp, Opensource, opensource, Open, open, Odooopenerp,
OdooOpenerp</p>
<p>\'not ilike\': [(\'name\', \'not ilike\', \'open\')] - Returns results
not matched with exact case insensitive (wildcards - \'%open%\') search.</p>
<p>O/p: Odoo, odoo</p>
<p>\'=ilike\': [(\'name\', \'=ilike\', \'open\')] - Returns exact (=
\'open\' or \'Open\') case insensitive search.</p>
<p>O/p: Open, open</p>
<p>\'=?\':</p>
<p>name = \'odoo\' parent_id = False [(\'name\', \'like\', name),
(\'parent_id\', \'=?\', parent_id)] - Returns name domain result &amp; True</p>
<p>name = \'odoo\' parent_id = \'openerp\' [(\'name\', \'like\', name),
(\'parent_id\', \'=?\', parent_id)] - Returns name domain result &amp;
parent_id domain result</p>
<p>\'=?\' is a short-circuit that makes the term TRUE if right is None or
False, \'=?\' behaves like \'=\' in other cases</p>
<p>\'in\': [(\'value1\', \'in\', [\'value1\', \'value2\'])] - in
operator will check the value1 is present or not in list of right term</p>
<p>\'not in\': [(\'value1\', \'not in\', [\'value2\'])] - not in
operator will check the value1 is not present in list of right term
While these \'in\' and \'not in\' works with list/tuple of values, the
latter \'=\' and \'!=\' works with string</p>
<p>\'=\': value = 10 [(\'value\',\'=\',value)] - term left side has 10 in
db and term right our value 10 will match</p>
<p>\'!=\': value = 15 [(\'value\',\'!=\',value)] - term left side has 10
in db and term right our value 10 will not match</p>
<p>\'child_of\': parent_id = \'1\' #Agrolait \'child_of\':
[(\'partner_id\', \'child_of\', parent_id)] - return left and right
list of partner_id for given parent_id</p>
<p>\'\&lt;=\', \'\&lt;\', \'&gt;\', \'&gt;=\': These operators are largely used in
openerp for comparing dates - [(\'date\', \'&gt;=\', date_begin),
(\'date\', \'\&lt;=\', date_end)]. You can use these operators to compare
int or float also.</p>
<p>Els <strong>filter</strong> amb <strong>group</strong> agrupen per algun field:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="nt">&lt;group</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Group By&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="w">        </span><span class="nt">&lt;filter</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;group_by_inventor&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Inventor&quot;</span><span class="w"> </span><span class="na">context=</span><span class="s">&quot;{&#39;group_by&#39;: &#39;inventor_id&#39;}&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-57-3"><a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="nt">&lt;/group&gt;</span>
</span><span id="__span-57-4"><a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a>o:
</span></code></pre></div>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="w">  </span><span class="nt">&lt;filter</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;group_by_matricula&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Matricula&quot;</span><span class="w"> </span><span class="na">context=</span><span class="s">&quot;{&#39;group_by&#39;: &#39;matricula&#39;}&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<p>Si agrupem per data, el grup és per defecte per cada mes, si volem
agrupar per dia:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="nt">&lt;filter</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;group_by_exit_day&quot;</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Exit&quot;</span><span class="w"> </span><span class="na">context=</span><span class="s">&quot;{&#39;group_by&#39;: &#39;exit_day:day&#39;}&quot;</span><span class="nt">/&gt;</span><span class="w">  </span>
</span></code></pre></div>
<p>Si volem que un <strong>filtre estiga predefinit</strong> s\'ha de posar en el
context de <strong>l\'action</strong>:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;context&quot;</span><span class="nt">&gt;</span>{&#39;search_default_clients&#39;:1,&quot;default_is_client&quot;:<span class="w"> </span>True}<span class="nt">&lt;/field&gt;</span>
</span></code></pre></div>
<p>En aquest exemple, filtra amb en <strong>search_default_XXXX</strong> que activa el
filtre XXXX i, amés, fa que en els formularis tiguen un camp boolean a
true.</p>
<h3 id="vistes-calendar">Vistes Calendar</h3>
<p>Si el recurs té un camp date o datetime. Permet editar els recursos
ordenats per temps. L'exemple són els esdeveniments del mòdul de ventes.</p>
<ul>
<li><strong>string</strong>, per al títol de la vista</li>
<li><strong>date_start</strong>, que ha de contenir el nom d'un camp datetime o date
    del model.</li>
<li><strong>date_delay</strong>, que ha de contenir la llargada en hores de
    l'interval.</li>
<li><strong>date_stop</strong>, Aquest atribut és ignorat si existeix l'atribut
    date_delay.</li>
<li><strong>day_length</strong>, per indicar la durada en hores d'un dia. OpenObject
    utilitza aquest valor per calcular la data final a partir del valor
    de date_delay. Per defecte, el seu valor és 8 hores.</li>
<li><strong>color</strong>, per indicar el camp del model utilitzat per distingir,
    amb colors, els recursos mostrats a la vista.</li>
<li><strong>mode</strong>, per mostrar l'enfoc (dia/setmana/mes) amb el què s'obre la
    vista. Valors possibles: day, week, month. Per defecte, month.</li>
</ul>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="w"> </span><span class="nt">&lt;record</span><span class="w"> </span><span class="na">model=</span><span class="s">&quot;ir.ui.view&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;session_calendar_view&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="w">            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>session.calendar<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="w">            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;model&quot;</span><span class="nt">&gt;</span>openacademy.session<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="w">            </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;arch&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;xml&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="w">                </span><span class="nt">&lt;calendar</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Session Calendar&quot;</span><span class="w"> </span><span class="na">date_start=</span><span class="s">&quot;start_date&quot;</span>
</span><span id="__span-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="w">                          </span><span class="na">date_stop=</span><span class="s">&quot;end_date&quot;</span>
</span><span id="__span-61-7"><a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a><span class="w">                          </span><span class="na">color=</span><span class="s">&quot;instructor_id&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-61-8"><a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a><span class="w">                    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-61-9"><a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a><span class="w">                </span><span class="nt">&lt;/calendar&gt;</span>
</span><span id="__span-61-10"><a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a><span class="w">            </span><span class="nt">&lt;/field&gt;</span>
</span><span id="__span-61-11"><a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a><span class="w">        </span><span class="nt">&lt;/record&gt;</span>
</span></code></pre></div>
<h3 id="vistes-graph">Vistes Graph</h3>
<p>En general s\'utilitza per a veure agregacions sobre les dades a
mostrar. Accepta els següents atributs:</p>
<ul>
<li><strong>string</strong>, per al títol de la vista</li>
<li><strong>type</strong>, per al tipus de gràfic. (bar, pie, line)</li>
<li><strong>stacked</strong> sols per a bar per mostrar les dades amuntonades en una
    única barra.</li>
</ul>
<p>La definició dels elements fills de l'element arrel graph determina el
contingut del gràfic:</p>
<ul>
<li>Primer camp: eix X (horitzontal). Obligatori.</li>
<li>Segon camp: eix Y (vertical). Obligatori.</li>
</ul>
<p>A cadascun dels camps que determinen els eixos, se'ls pot aplicar els
atributs següents:</p>
<ul>
<li>name: El nom del field</li>
<li>title: El nom que tindrà en el gràfic</li>
<li>invisible: No apareixerà</li>
<li>type: En aquest cas cal dir si és <strong>row</strong> per agrupar per aquest
    field, <strong>col</strong> per fer distintes línies o <strong>measure</strong> per a les
    dades en sí que es van a agregar.</li>
</ul>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="w"> </span><span class="nt">&lt;record</span><span class="w"> </span><span class="na">model=</span><span class="s">&quot;ir.ui.view&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;terraform.planet_changes_graph&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="w">      </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>Planet<span class="w"> </span>Changes<span class="w"> </span>graph<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="w">      </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;model&quot;</span><span class="nt">&gt;</span>terraform.planetary_changes<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="w">      </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;arch&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;xml&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a><span class="w">        </span><span class="nt">&lt;graph</span><span class="w"> </span><span class="na">string=</span><span class="s">&quot;Changes History&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;line&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-62-6"><a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="w">          </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;time&quot;</span><span class="w">  </span><span class="na">type=</span><span class="s">&quot;row&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-62-7"><a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="w">          </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;planet&quot;</span><span class="w">  </span><span class="na">type=</span><span class="s">&quot;col&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-62-8"><a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a><span class="w">          </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;greenhouse&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;measure&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-62-9"><a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a><span class="w">        </span><span class="nt">&lt;/graph&gt;</span>
</span><span id="__span-62-10"><a id="__codelineno-62-10" name="__codelineno-62-10" href="#__codelineno-62-10"></a><span class="w">      </span><span class="nt">&lt;/field&gt;</span>
</span><span id="__span-62-11"><a id="__codelineno-62-11" name="__codelineno-62-11" href="#__codelineno-62-11"></a><span class="w">    </span><span class="nt">&lt;/record&gt;</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a>Les vistes graph en Odoo són molt limitades, sols accepten un element en les X i necessiten que els camps estiguen guardats en la base de dades
</span></code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.instant", "navigation.instant.progress", "toc.follow", "navigation.top", "content.code.copy"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>