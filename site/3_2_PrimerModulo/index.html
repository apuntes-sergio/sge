
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Creación del primer módulo en Odoo">
      
      
      
        <link rel="canonical" href="https://sergio-apuntes.github.io/sge/3_2_PrimerModulo/">
      
      
        <link rel="prev" href="../3_1_ArquitecturaOdoo/">
      
      
        <link rel="next" href="../3_3_Modulos/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>3.2. Primer módulo en Odoo - Apuntes Sistemas de Gestión Empresarial</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hola-mundo-version-1" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Apuntes Sistemas de Gestión Empresarial" class="md-header__button md-logo" aria-label="Apuntes Sistemas de Gestión Empresarial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apuntes Sistemas de Gestión Empresarial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3.2. Primer módulo en Odoo
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Apuntes Sistemas de Gestión Empresarial" class="md-nav__button md-logo" aria-label="Apuntes Sistemas de Gestión Empresarial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Apuntes Sistemas de Gestión Empresarial
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    1 ERP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            1 ERP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción a Odoo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_2_IntroduccionERP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.2. Introducción a la Gestión Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_3_IT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.3. Informática en la Gestión Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_4_ERP_CRM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.4. ERP-CRM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_5_ERP_actuales/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.5. Revisión de ERPs Actuales
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_6_ERP_Libres_Privativos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.6. ERPs Propietarios vs ERPs de Código Abierto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_7_CRM_Actuales/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.7. CRM Actual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_8_Terminolog%C3%ADa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.8. Terminología ERP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2 Instalacion de Odoo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            2 Instalacion de Odoo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_1_InstalarOdoo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.1. Instalación de Odoo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_2_InstalarDocker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.2. Instalación con docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_3_InstalarUbuntu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.3. Instalación en Ubuntu
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    3 Desarrollo con odoo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            3 Desarrollo con odoo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_1_ArquitecturaOdoo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1. Arquitectura de Odoo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    3.2. Primer módulo en Odoo
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    3.2. Primer módulo en Odoo
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hola-mundo-version-1" class="md-nav__link">
    <span class="md-ellipsis">
      Hola Mundo. Versión 1.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hola Mundo. Versión 1.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estructura" class="md-nav__link">
    <span class="md-ellipsis">
      Estructura
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-1-__init__py" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1. __init__.py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-__manifest__py" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2. __manifest__.py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-reinicio-del-servidor" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3. Reinicio del servidor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-odoo-en-modo-desarrollo" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4. Odoo en modo desarrollo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paso 4. Odoo en modo desarrollo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#activando-desde-menu-de-ajustes" class="md-nav__link">
    <span class="md-ellipsis">
      Activando desde menú de Ajustes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usando-la-url-directamente" class="md-nav__link">
    <span class="md-ellipsis">
      Usando la URL directamente
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usando-extensiones-o-herramientas-del-navegador" class="md-nav__link">
    <span class="md-ellipsis">
      Usando extensiones o herramientas del navegador
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-actualizar-buscar-e-instalar" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 5. Actualizar, buscar e instalar.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resumen-de-todos-los-pasos" class="md-nav__link">
    <span class="md-ellipsis">
      Resumen de todos los pasos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hola-mundo-version-2" class="md-nav__link">
    <span class="md-ellipsis">
      Hola Mundo. Versión 2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hola Mundo. Versión 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estructura-del-modulo" class="md-nav__link">
    <span class="md-ellipsis">
      Estructura del módulo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archivo-__init__py" class="md-nav__link">
    <span class="md-ellipsis">
      Archivo __init__.py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archivo-__manifest__py" class="md-nav__link">
    <span class="md-ellipsis">
      Archivo __manifest__.py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archivo-models__init__py" class="md-nav__link">
    <span class="md-ellipsis">
      Archivo models/__init__.py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archivo-modelsholapy" class="md-nav__link">
    <span class="md-ellipsis">
      Archivo models/hola.py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archivo-viewshola_viewxml" class="md-nav__link">
    <span class="md-ellipsis">
      Archivo views/hola_view.xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archivo-securityirmodelaccesscsv" class="md-nav__link">
    <span class="md-ellipsis">
      Archivo security/ir.model.access.csv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalacion" class="md-nav__link">
    <span class="md-ellipsis">
      Instalación
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hola-mundo-version-3-scaffold" class="md-nav__link">
    <span class="md-ellipsis">
      Hola Mundo. Version 3. scaffold
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_3_Modulos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.3. Los módulos en Odoo
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    4 Desarrollo de un módulo de gestión de proyectos
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            4 Desarrollo de un módulo de gestión de proyectos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_1_EjemploCreacionModeloBasico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.1. Creación de un modelo básico, vistas, menús y actions.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_2_EjemploCamposBasicos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.2. Campos básicos y relacionales
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_3_EjemploCamposComputados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.3. Campos básicos computados.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_4_EjemploExcepcionesMensajes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.4. Lanzar excepciones y añadir mensajes de log.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_5_EjemploCamposComputadosRelacionales/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.5. Campos computados relacionales
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_6_EjemploCamposValoresDefecto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.6. Campos con valores por defecto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_7_EjemploHerencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.7. Herencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_8_EjemploMejorandoVistas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.8. Mejorando vistas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_9_EjemploDatosDemo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.9. Datos de demostración
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hola-mundo-version-1" class="md-nav__link">
    <span class="md-ellipsis">
      Hola Mundo. Versión 1.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hola Mundo. Versión 1.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estructura" class="md-nav__link">
    <span class="md-ellipsis">
      Estructura
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-1-__init__py" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1. __init__.py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-__manifest__py" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2. __manifest__.py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-reinicio-del-servidor" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3. Reinicio del servidor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-odoo-en-modo-desarrollo" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4. Odoo en modo desarrollo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paso 4. Odoo en modo desarrollo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#activando-desde-menu-de-ajustes" class="md-nav__link">
    <span class="md-ellipsis">
      Activando desde menú de Ajustes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usando-la-url-directamente" class="md-nav__link">
    <span class="md-ellipsis">
      Usando la URL directamente
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usando-extensiones-o-herramientas-del-navegador" class="md-nav__link">
    <span class="md-ellipsis">
      Usando extensiones o herramientas del navegador
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-actualizar-buscar-e-instalar" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 5. Actualizar, buscar e instalar.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resumen-de-todos-los-pasos" class="md-nav__link">
    <span class="md-ellipsis">
      Resumen de todos los pasos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hola-mundo-version-2" class="md-nav__link">
    <span class="md-ellipsis">
      Hola Mundo. Versión 2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hola Mundo. Versión 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estructura-del-modulo" class="md-nav__link">
    <span class="md-ellipsis">
      Estructura del módulo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archivo-__init__py" class="md-nav__link">
    <span class="md-ellipsis">
      Archivo __init__.py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archivo-__manifest__py" class="md-nav__link">
    <span class="md-ellipsis">
      Archivo __manifest__.py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archivo-models__init__py" class="md-nav__link">
    <span class="md-ellipsis">
      Archivo models/__init__.py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archivo-modelsholapy" class="md-nav__link">
    <span class="md-ellipsis">
      Archivo models/hola.py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archivo-viewshola_viewxml" class="md-nav__link">
    <span class="md-ellipsis">
      Archivo views/hola_view.xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archivo-securityirmodelaccesscsv" class="md-nav__link">
    <span class="md-ellipsis">
      Archivo security/ir.model.access.csv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalacion" class="md-nav__link">
    <span class="md-ellipsis">
      Instalación
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hola-mundo-version-3-scaffold" class="md-nav__link">
    <span class="md-ellipsis">
      Hola Mundo. Version 3. scaffold
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>3.2. Primer módulo en Odoo</h1>

<p>Una vez instalado y comprendida la arquitectura de de <strong><em>Odoo</em></strong>, el siguiente objetivos será desarrollar nuestro primer módulo, el típico "Hola Mundo".</p>
<p>En este caso, vamos a desarrollar hasta 3 versiones diferentes del módulo, de forma que iremos profundizando en los elementos básicos de un módulo en <strong><em>Odoo</em></strong>. </p>
<h2 id="hola-mundo-version-1">Hola Mundo. Versión 1.</h2>
<p>Esta primera version, como tal, no tendrá ninguna utilidad mas allá de comprobar que somos capaces de crear e instalar un módulo (que no hace nada)</p>
<p>El <strong>primer paso</strong> siempre va a ser la creación de una carpeta en el directorio de <code>addons/</code>, a la que llamaremos igual que el nombre del módulo:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>mkdir<span class="w"> </span>./addons/HolaMundo_V1
</span></code></pre></div>
<p>Dentro de esta carpeta vamos a crear solo dos archivos <code>__init__.py</code> y <code>__manifest__.py</code> es una excelente forma de comenzar a entender la estructura de los módulos en Odoo. Aquí te muestro cómo hacerlo paso a paso:</p>
<h3 id="estructura">Estructura</h3>
<p>Los ficheros necesarios para esta primera versión serán: <code>__init__.py</code> y <code>__manifest__.py</code> y la estructura (mínima) sería:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>addons/HolaMundo_V1/
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>├── __init__.py
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>└── __manifest__.py
</span></code></pre></div>
<p>Donde: </p>
<h3 id="paso-1-__init__py">Paso 1. <code>__init__.py</code></h3>
<p>Básicamente le dice a Python que esa carpeta es un paquete, y además también sirve para indicar a <strong><em>Odoo</em></strong> los modelos que tiene que cargar y que están ubicado en la carpeta <code>models</code></p>
<p>En nuestro caso, como no vamos a incluir ningún modelo o controlador en la carpeta <code>models</code> este archivo va a estar vacío. Solo sirve para indicar que este directorio es un paquete de Python.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># HolaMundo_V1/__init__.py</span>
</span></code></pre></div>
<hr />
<h3 id="paso-2-__manifest__py">Paso 2. <code>__manifest__.py</code></h3>
<p>Este archivo contiene la descripción del módulo. Es como la ficha técnica del módulo. Ahí se le indica a <strong><em>Odoo</em></strong> cómo se llama, qué hace, qué necesita para funcionar y qué archivos debe cargar Aquí tienes un ejemplo básico:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># HolaMundo_V1/__manifest__.py</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="p">{</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Hola Mundo V1&#39;</span><span class="p">,</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s1">&#39;1.0&#39;</span><span class="p">,</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    <span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="s1">&#39;Módulo básico de ejemplo&#39;</span><span class="p">,</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>    <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Este es un módulo de ejemplo que no hace nada, solo sirve como plantilla.&#39;</span><span class="p">,</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>    <span class="s1">&#39;author&#39;</span><span class="p">:</span> <span class="s1">&#39;Sergio Rey&#39;</span><span class="p">,</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="s1">&#39;Tools&#39;</span><span class="p">,</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>    <span class="s1">&#39;depends&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>    <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>    <span class="s1">&#39;installable&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>    <span class="s1">&#39;application&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>    <span class="s1">&#39;auto_install&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="p">}</span>
</span></code></pre></div>
<p>Como se puede observar, es un diccionario en formato Python que incluye varios campos clave. No es necesario poner todos, aunque para este ejemplo se han puesto lo más comunes:</p>
<ul>
<li><strong><code>name</code></strong>: el nombre del módulo tal como aparecerá en la interfaz de Odoo.</li>
<li><strong><code>version</code></strong>: la versión del módulo, útil para actualizaciones.</li>
<li><strong><code>summary</code></strong>: una descripción corta que aparece en la lista de aplicaciones.</li>
<li><strong><code>description</code></strong>: una descripción más larga y detallada del módulo.</li>
<li><strong><code>author</code></strong>: quién lo ha creado.</li>
<li><strong><code>category</code></strong>: en qué sección de Odoo se clasifica (por ejemplo, "Tools", "Sales", "Inventory").</li>
<li><strong><code>depends</code></strong>: una lista de otros módulos que este necesita para funcionar. Por ejemplo, casi todos dependen de <code>base</code>.</li>
<li><strong><code>data</code></strong>: archivos XML, CSV, etc., que deben cargarse al instalar el módulo (vistas, menús, reglas de acceso…).</li>
<li><strong><code>demo</code></strong>: archivos que se cargan solo en modo demo.</li>
<li><strong><code>installable</code></strong>: si está en <code>True</code>, el módulo se puede instalar.</li>
<li><strong><code>application</code></strong>: si es <code>True</code>, se muestra como una aplicación en el panel principal.</li>
<li><strong><code>auto_install</code></strong>: si es <code>True</code>, se instala automáticamente si sus dependencias están presentes.</li>
</ul>
<p>Hay más campos opcionales, pero con estos tienes lo básico para que el módulo funcione y se vea correctamente en Odoo.</p>
<h3 id="paso-3-reinicio-del-servidor">Paso 3. Reinicio del servidor</h3>
<p>Para que el servidor reconozca el nuevo módulo, debemos reiniciar:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>restart<span class="w"> </span>odoo
</span></code></pre></div>
<p>o pulsamos sobre el botón que hemos añadido en en VSCode mediante **VS Code Action Buttons" en la sección anterior.</p>
<p>En estos momentos, también es aconsejable ver los <em>logs</em> que va generando <strong><em>Ddoo</em></strong>, por lo que en un terminal es aconsejable ejecutar:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>docker<span class="w"> </span>logs<span class="w"> </span>odoo<span class="w"> </span>-f
</span></code></pre></div>
<h3 id="paso-4-odoo-en-modo-desarrollo">Paso 4. Odoo en modo desarrollo</h3>
<p>Debemos tener <strong><em>Odoo</em></strong> en modo desarrollo, para que el siguiente paso nos permita buscar el nuevo módulo.</p>
<p>Hay diferentes formas de hacerlo:</p>
<h4 id="activando-desde-menu-de-ajustes">Activando desde menú de Ajustes</h4>
<p>Desde el menú de ajustes, podemos activar el <em>modo desarrollador</em> directamente:</p>
<figure align="center">
  <a class="glightbox" href="../imgs/desarrollo/Odoo_AjustesModoDesarrollador.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/desarrollo/Odoo_AjustesModoDesarrollador.png" width="75%" /></a>
  <figcaption>Activar modo desarrollador por ajustes</figcaption>
</figure>
<h4 id="usando-la-url-directamente">Usando la URL directamente</h4>
<p>Puedes añadir <strong><code>?debug=1</code></strong> al final de la URL de <strong><em>Odoo</em></strong> para activar el modo desarrollador. Realmente, si observamos qué ha pasado en el método anterior, precisamente es lo que hace, añadir esto al final de la URL</p>
<p>Ejemplo:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>http://localhost:8069/odoo?debug=1
</span></code></pre></div>
<figure align="center">
  <a class="glightbox" href="../imgs/desarrollo/OdooDebug_1.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/desarrollo/OdooDebug_1.png" width="75%" /></a>
  <figcaption>Entrar en modo desarrollo desde la URL</figcaption>
</figure>
<p>También se puede usar:</p>
<ul>
<li><code>?debug=assets</code> para ver los archivos fuente (útil para desarrolladores).</li>
<li><code>?debug=tests</code> para pruebas automatizadas.</li>
</ul>
<h4 id="usando-extensiones-o-herramientas-del-navegador">Usando extensiones o herramientas del navegador</h4>
<p>Aunque no es necesario, puedes usar herramientas como <a href="https://addons.mozilla.org/es-ES/firefox/addon/odoo-debug/?utm_source=addons.mozilla.org&amp;utm_medium=referral&amp;utm_content=search"><code>Odoo Debug</code></a> (extensión para Firefox o Chrome) que te permite activar el modo desarrollador con un clic.</p>
<figure align="center">
  <a class="glightbox" href="../imgs/desarrollo/OdooDebug_AddOns.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/desarrollo/OdooDebug_AddOns.png" width="75%" /></a>
  <figcaption>Entrar en modo desarrollo con Add-on</figcaption>
</figure>
<p>Hay otras formas, pero de momento con esta tenemos suficiente para comenzar a trabajar.</p>
<p>Una vez entras en modo desarrollo, verás que aparecen nuevas opciones, por ejemplo al entrar en <em>Aplicaciones</em></p>
<figure align="center">
  <a class="glightbox" href="../imgs/desarrollo/OdooDebug_Menus.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/desarrollo/OdooDebug_Menus.png" width="75%" /></a>
  <figcaption>Nuevas opciones al entrar en Desarrollo.</figcaption>
</figure>
<p>Como puedes ver en esta imagen, han aparecido nuevas opciones y tenemos un nuevo menú con la forma de una cucaracha que nos permite realizar funcionalidades de desarrollador.</p>
<h3 id="paso-5-actualizar-buscar-e-instalar">Paso 5. Actualizar, buscar e instalar.</h3>
<p>Una vez llegado a este punto, entonces debemos:</p>
<ol>
<li><strong>Actualizar</strong> e listado de módulos que nos aparece en pantalla pulsando el botón de <strong>Actualizar lista de aplicaciones</strong> que podemos ver en la figura anterior.</li>
<li><strong>Buscamos</strong> el módulo que queremos instalar, utilizando la herramientas de búsqueda. Si ponemos "Hola" no nos encontrará nada, a no ser que le quitemos el filtro para que haga búsquedas solo de aplicaciones.</li>
<li><strong>Instalamos</strong> Una vez, hemos encontrado el módulo, pulsamos el botón de instalar y aparecerá como que se ha instalado. Si hay algún problema no se instalará correctamente y debemos recurrir a los <em>logs</em> de <strong><em>Odoo</em></strong> para investigar qué es lo que ha pasado.</li>
</ol>
<figure align="center">
  <a class="glightbox" href="../imgs/desarrollo/OdooActivar_Modulo.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/desarrollo/OdooActivar_Modulo.png" width="75%" /></a>
  <figcaption>Módulo buscado y encontrado.</figcaption>
</figure>
<p>Con estos pasos, si todo ha funcionado correctamente, ya tenemos el módulo instalado y listo para ser usado. En nuestro caso, como no lo hemos dotado de funcionalidad, no aparecerá en ningún sitio, pero entrando en la <strong>Información del módulo</strong> podemos ver que esta instalado y que por tanto podemos <strong>Actualizar</strong> o <strong>Desinstalar</strong> el módulo.</p>
<figure align="center">
  <a class="glightbox" href="../imgs/desarrollo/OdooEstado_Modulo.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/desarrollo/OdooEstado_Modulo.png" width="75%" /></a>
  <figcaption>Información del módulo.</figcaption>
</figure>
<h3 id="resumen-de-todos-los-pasos">Resumen de todos los pasos</h3>
<p>Estos pasos los debemos tener muy claros, puesto que siempre van a ser los mismos a la hora de añadir un nuevo módulo:</p>
<div class="admonition quote">
<p class="admonition-title">Resumen pasos para instalación</p>
<ol>
<li>Creamos o modificamos los ficheros necesarios de nuestro módulo</li>
<li>Reinicia el servidor de Odoo.</li>
<li>Activa el modo desarrollador (si no lo tienes activado).</li>
<li>Ve a Aplicaciones, actualiza la lista y busca el nuevo módulo.</li>
<li>Instálalo y comprueba en los <em>logs</em> que no ha habido errores.</li>
</ol>
</div>
<h2 id="hola-mundo-version-2">Hola Mundo. Versión 2</h2>
<p>La versión anterior ha sido demasiado básica, auqnue ha sido de gran utilidad porque hemos podido comprobar de forma muy simplificada cómo se puede implementar un módulo en <strong><em>Odoo</em></strong>.</p>
<p>Ahora vamos a realizar de nuevo los mismo pasos con una nueva versión de nuestro módulo, pero vamos a añadir nuevos elementos de forma que podamos ver y utilizar esta nueva versión.</p>
<p>O sea, vamos a crear una versión que tras instalarla, nos aparecerá en el menú de aplicaciones y podremos entrar en el módulo, aunque de nuevo no tendrá funcionalidad alguna, aparte de aprender los pasos a realizar y comprobar que todo funciona correctamente.</p>
<p>Aquí tienes una guía paso a paso para crear un módulo básico de <strong>"Hola Mundo"</strong> en Odoo. Este módulo mostrará un mensaje simple en el backend, ideal para comenzar a familiarizarte con el desarrollo en Odoo.</p>
<h3 id="estructura-del-modulo">Estructura del módulo</h3>
<p>Para esta nueva versión, la estructura mínima será:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>HolaMundo_V2/
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>├── __init__.py
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>├── __manifest__.py
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>├── models/
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>│   ├── __init__.py
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>│   └── hola.py
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>├── views/
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>│   └── hola_view.xml
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>├── security/
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>│   └── ir.model.access.csv
</span></code></pre></div>
<p>Como podemos comprobar, por supuesto seguimos teniendo los fichero <strong><code>__init__.py</code></strong> y <strong><code>__manifest__.py</code></strong> y además añadimos nuevas carpetas y en ellas nuevos ficheros. </p>
<p>Obviamente, en este punto, podemos deducir que vamos a incluir nuevos <strong>modelos</strong>, <strong>vistas</strong> para poder visualizar los datos del modelo y <strong>seguridad</strong> necesaria para otorgar permisos y poder utilizar las vistas y modelos definidos.</p>
<p>Veamos cómo quedarían cada uno de los ficheros</p>
<h3 id="archivo-__init__py">Archivo <code>__init__.py</code></h3>
<p>Este archivo le dice a Python (y a Odoo) que esta carpeta es un paquete. </p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># HolaMundo_V2/__init__.py</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">models</span>
</span></code></pre></div>
<p>A diferencia de la primera versión, ahora si vamos a utilizar algún modelo, por lo que debemos importar desde el módulo base para ser utilizado posteriormente.</p>
<h3 id="archivo-__manifest__py">Archivo <code>__manifest__.py</code></h3>
<p>Este archivo es el corazón del módulo. Le dice a <strong>Odoo</strong> cómo se llama el módulo, qué hace, qué necesita y qué archivos debe cargar.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># HolaMundo_V2/__manifest__.py</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="p">{</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Hola Mundo V2&#39;</span><span class="p">,</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>  <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s1">&#39;2.0&#39;</span><span class="p">,</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>  <span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="s1">&#39;Módulo de ejemplo Hola Mundo V2&#39;</span><span class="p">,</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>  <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Este módulo muestra un mensaje básico en Odoo.&#39;</span><span class="p">,</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>  <span class="s1">&#39;author&#39;</span><span class="p">:</span> <span class="s1">&#39;Sergio Rey&#39;</span><span class="p">,</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>  <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="s1">&#39;Tools&#39;</span><span class="p">,</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>  <span class="s1">&#39;depends&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;base&#39;</span><span class="p">],</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>  <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>    <span class="s1">&#39;security/ir.model.access.csv&#39;</span><span class="p">,</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>    <span class="s1">&#39;views/hola_view.xml&#39;</span><span class="p">,</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>  <span class="p">],</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>  <span class="s1">&#39;installable&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>  <span class="s1">&#39;application&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="p">}</span>
</span></code></pre></div>
<p>Respecto a la primera versión, tenemos un cambio en la clave <code>data</code> donde ahora añadimos los archivos que van a cargar al iniciar.</p>
<h3 id="archivo-models__init__py">Archivo <code>models/__init__.py</code></h3>
<p>El archivo <code>__init__.py</code> dentro de la carpeta <code>models</code> es necesario para que <strong>Python reconozca esa carpeta como un paquete</strong>. </p>
<p>El contenido será el siguiente:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># HolaMundo_V2/models/__init__.py</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">hola</span>
</span></code></pre></div>
<p>Esto permite que Odoo pueda importar correctamente los archivos que hay dentro, como <code>hola.py</code>. </p>
<p>Se trata pues de un archivo obligatorio para que <strong><em>Odoo</em></strong> pueda encontrar y cargar correctamente los modelos definidos en esa carpeta</p>
<div class="admonition nota">
<p class="admonition-title">Nota</p>
<p>En concreto, cuando en el archivo principal <code>__init__.py</code> del módulo escribes:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># HolaMundo_V2/__init__.py</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">models</span>
</span></code></pre></div>
<p>Python busca un archivo <code>__init__.py</code> dentro de la carpeta <code>models</code>. Y dentro de ese archivo, normalmente se importa cada archivo de modelo, por ejemplo:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># HolaMundo_V2/models/__init__.py</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">hola</span>
</span></code></pre></div>
<p>Esto le dice a Odoo: “carga el modelo definido en <code>models/hola.py</code>”.</p>
<p>Si no estuviera ese <code>__init__.py</code>, Python no sabría que debe tratar la carpeta <code>models</code> como un paquete, y no se cargarían los modelos al instalar el módulo.</p>
</div>
<hr />
<h3 id="archivo-modelsholapy">Archivo <code>models/hola.py</code></h3>
<p>Aquí se define el modelo de datos. Es como crear una tabla en la base de datos con un campo llamado <em>name</em>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># HolaMundo_V2/models/hola.py</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="kn">from</span> <span class="nn">odoo</span> <span class="kn">import</span> <span class="n">models</span><span class="p">,</span> <span class="n">fields</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="k">class</span> <span class="nc">HolaMundo</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    <span class="n">_name</span> <span class="o">=</span> <span class="s1">&#39;hola.mundo.v2&#39;</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>    <span class="n">_description</span> <span class="o">=</span> <span class="s1">&#39;Modelo Hola Mundo V2&#39;</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>    <span class="n">mensaje</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s1">&#39;Mensaje&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;¡Hola Mundo V2 desde Odoo!&#39;</span><span class="p">)</span>
</span></code></pre></div>
<p>Nos detendremos más adelante en la estructura de este fichero, pero tenemos campos privados obligatorios (<code>_name</code>) que indica el nombre del modelo y que sirve a <strong><em>Odoo</em></strong> para elegir el nombre de la tabla en la que se almacenan los datos definidos en este modelo.</p>
<p>Después tenemos un único campo <em>mensaje</em> de tipo texto, que posteriormente se mostrará en la vista y al que se asigna un valor por defecto.</p>
<h3 id="archivo-viewshola_viewxml">Archivo <code>views/hola_view.xml</code></h3>
<p>Este archivo define la interfaz de usuario: cómo se ven los datos, cómo se accede a ellos y cómo se navega.</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="cm">&lt;!-- HolaMundo_V2/views/view.xml --&gt;</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nt">&lt;odoo&gt;</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="nt">&lt;record</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;view_hola_mundo_v2_list&quot;</span><span class="w"> </span><span class="na">model=</span><span class="s">&quot;ir.ui.view&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>hola.mundo.v2.list<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;model&quot;</span><span class="nt">&gt;</span>hola.mundo.v2<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;type&quot;</span><span class="nt">&gt;</span>list<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;arch&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;xml&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">            </span><span class="nt">&lt;list&gt;</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">                </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;mensaje&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">            </span><span class="nt">&lt;/list&gt;</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">        </span><span class="nt">&lt;/field&gt;</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">    </span><span class="nt">&lt;/record&gt;</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="w">    </span><span class="nt">&lt;record</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;view_hola_mundo_v2_form&quot;</span><span class="w"> </span><span class="na">model=</span><span class="s">&quot;ir.ui.view&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>hola.mundo.v2.form<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;model&quot;</span><span class="nt">&gt;</span>hola.mundo.v2<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;type&quot;</span><span class="nt">&gt;</span>form<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;arch&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;xml&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="w">            </span><span class="nt">&lt;form&gt;</span>
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a><span class="w">                </span><span class="nt">&lt;sheet&gt;</span>
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a><span class="w">                    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;mensaje&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a><span class="w">                </span><span class="nt">&lt;/sheet&gt;</span>
</span><span id="__span-14-24"><a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a><span class="w">            </span><span class="nt">&lt;/form&gt;</span>
</span><span id="__span-14-25"><a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a><span class="w">        </span><span class="nt">&lt;/field&gt;</span>
</span><span id="__span-14-26"><a id="__codelineno-14-26" name="__codelineno-14-26" href="#__codelineno-14-26"></a><span class="w">    </span><span class="nt">&lt;/record&gt;</span>
</span><span id="__span-14-27"><a id="__codelineno-14-27" name="__codelineno-14-27" href="#__codelineno-14-27"></a>
</span><span id="__span-14-28"><a id="__codelineno-14-28" name="__codelineno-14-28" href="#__codelineno-14-28"></a><span class="w">    </span><span class="nt">&lt;record</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;action_hola_mundo_v2&quot;</span><span class="w"> </span><span class="na">model=</span><span class="s">&quot;ir.actions.act_window&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-29"><a id="__codelineno-14-29" name="__codelineno-14-29" href="#__codelineno-14-29"></a><span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>Hola<span class="w"> </span>Mundo<span class="w"> </span>V2<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-14-30"><a id="__codelineno-14-30" name="__codelineno-14-30" href="#__codelineno-14-30"></a><span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;res_model&quot;</span><span class="nt">&gt;</span>hola.mundo.v2<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-14-31"><a id="__codelineno-14-31" name="__codelineno-14-31" href="#__codelineno-14-31"></a><span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;view_mode&quot;</span><span class="nt">&gt;</span>list,form<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-14-32"><a id="__codelineno-14-32" name="__codelineno-14-32" href="#__codelineno-14-32"></a><span class="w">    </span><span class="nt">&lt;/record&gt;</span>
</span><span id="__span-14-33"><a id="__codelineno-14-33" name="__codelineno-14-33" href="#__codelineno-14-33"></a>
</span><span id="__span-14-34"><a id="__codelineno-14-34" name="__codelineno-14-34" href="#__codelineno-14-34"></a><span class="w">    </span><span class="nt">&lt;menuitem</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;menu_hola_mundo_v2_root&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Hola Mundo V2&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-35"><a id="__codelineno-14-35" name="__codelineno-14-35" href="#__codelineno-14-35"></a><span class="w">    </span><span class="nt">&lt;menuitem</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;menu_hola_mundo_v2&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Mensajes&quot;</span><span class="w"> </span><span class="na">parent=</span><span class="s">&quot;menu_hola_mundo_v2_root&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-36"><a id="__codelineno-14-36" name="__codelineno-14-36" href="#__codelineno-14-36"></a><span class="w">    </span><span class="nt">&lt;menuitem</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;menu_hola_mundo_v2_items&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Ver Mensajes&quot;</span><span class="w"> </span><span class="na">parent=</span><span class="s">&quot;menu_hola_mundo_v2&quot;</span><span class="w"> </span><span class="na">action=</span><span class="s">&quot;action_hola_mundo_v2&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-37"><a id="__codelineno-14-37" name="__codelineno-14-37" href="#__codelineno-14-37"></a><span class="nt">&lt;/odoo&gt;</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>En <strong>Odoo 18.0</strong>, el tipo de vista que antes se llamaba <code>tree</code> ahora se llama <code>list</code> tanto en el campo <code>type</code> como en el nombre de la etiqueta XML</p>
<p>Esto quiere decir que si se utiliza este código en una versión anterior de <strong><em>Odoo</em></strong>, entonces se debe sustituir el tipo <code>list</code> por <code>tree</code></p>
</div>
<p>Como se puede ver define las <em>Vistas</em> tipo <code>list</code> y <code>form</code> para el modelo <code>hola.mundo.v2</code>, así como los <em>menús</em> y <em>acciones</em> para acceder al modelo desde el backend. Sin esto, el usuario no podría ver ni editar los datos del modelo desde la interfaz de Odoo.</p>
<h3 id="archivo-securityirmodelaccesscsv">Archivo <code>security/ir.model.access.csv</code></h3>
<p>Este archivo define los permisos de acceso al modelo</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>access_hola_mundo_v2,hola.mundo.v2,model_hola_mundo_v2,,1,1,1,1
</span></code></pre></div>
<p>El contenido son las reglas que indican quién puede leer, escribir, crear o borrar registros del modelo. Este archivo es fundamental ya que sin este archivo, los usuarios no verán el menú ni podrán acceder al modelo, aunque esté instalado simplemente porque carecen de permisos.</p>
<h3 id="instalacion">Instalación</h3>
<p>Para la instalación se siguen los mismos pasos que en la primera versión.</p>
<ol>
<li>Crea todos los fichero en las ubicaciones indicadas.</li>
<li>Reinicia el servidor de Odoo.</li>
<li>Activa el modo desarrollador si no lo esta.</li>
<li>Ve a <strong>Aplicaciones</strong>, actualiza la lista y busca <strong>Hola Mundo V2</strong>.</li>
<li>Instálalo y verás el menú en la barra superior.</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Observa que al hacer la búsqueda del módulo, si no le quitas el filtro de <em>Aplicación</em> solo verás el módulo <em>V2</em>, mientras que si quitas este filtro verás el <em>V1</em> y el <em>V2</em>. Esto es debido a que el el <code>__manifest__.py</code> le hemos dicho que es una aplicación y antes no.</p>
</div>
<h2 id="hola-mundo-version-3-scaffold">Hola Mundo. Version 3. <code>scaffold</code></h2>
<p>Un <strong>scaffold</strong> es una herramienta que te permite generar automáticamente la estructura básica de un módulo personalizado. Es como un "esqueleto" inicial que incluye todos los archivos y carpetas necesarios para empezar a desarrollar un módulo.</p>
<p>En otras palabras, nos crea las carpetas y clases básicas de nuestro modelo, simplemente indicando el nombre.</p>
<p>Para crear un móudulo ejecutamos hacemos un <strong>scaffold</strong> que hemos comentado antes, damos un nombre al módulo (en este caso <em>pruebas</em>) y le decimos que los vamos a ubicar en la carpeta <code>extra-addons</code> del contenedor que se encuentra redireccionada a la carpeta <code>./addons</code> que tenemos en la uticación del <em>docker-compose</em></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-ti<span class="w"> </span>odoo<span class="w"> </span>odoo<span class="w"> </span>scaffold<span class="w"> </span>HolaMundo_V3<span class="w"> </span>/mnt/extra-addons
</span></code></pre></div>
<p>Podemos comprobar que efectivamente se ha creado todo la estructura del modelo:</p>
<figure align="center">
  <a class="glightbox" href="../imgs/desarrollo/Scaffold_HolaMundoV3.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/desarrollo/Scaffold_HolaMundoV3.png" width="75%" /></a>
  <figcaption>Carpetas y fichero creados por comando scaffold</figcaption>
</figure>
<p>Posteriormente es aconsejable dar permisos para poder acceder a esta carpeta. Debemos tener en cuenta siempre los permisos para que tanto el proceso <em>docker</em> que se ejecuta como <code>root</code> como nosotros con nuestro usuario podemos acceder a la carpeta.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-ti<span class="w"> </span>odoo<span class="w"> </span>chmod<span class="w"> </span><span class="m">777</span><span class="w"> </span>-R<span class="w"> </span>/mnt/extra-addons/HolaMundo
</span></code></pre></div>
<p>De hecho, con estos cambios tan simples, podemos volver a hacer todos los pasos que hemos hecho anteriormente e instalar nuestro nuevo módulo:</p>
<ul>
<li>Reinicia Servidor</li>
<li>Actualiza lista de aplicaciones</li>
<li>Haz la búsqueda</li>
<li>Instala....</li>
</ul>
<p>Esta primera versión no tiene nada, por lo tanto es muy similar a la versión 1, simplemente se instala sin mas.</p>
<p>Ahora es momento de ir revisando cada uno de los fichero que tenemos e ir descomentando todo el código comentado, con esto, volvemos a rehacer todo el proceso, y ya tenemos una aplicación con varias vistas.</p>
<p>Los ficheros a revisar y descomentar serán:</p>
<ul>
<li><code>__manyfest__py</code>: en este lo que se debe hacer es actualizar la información. Observar que los datos no son los mismos que nosotros hemos añadidos en nuestros anteriores versiones, de hecho es posible que sea interesante añadir alguna línea extra</li>
<li><code>models/models.py</code></li>
<li><code>views/views.xml</code></li>
<li><code>controllers/controllers.py</code> : este es nuevo...</li>
<li><code>demo/demo.xml</code>: estos son datos de <em>demostración</em> que se pueden cargar inicialmente. Es opcional, incluso desaconsejable en este caso</li>
</ul>
<p>Observa que el fichero de seguridad no se hace nada, o más bien se indica en <code>__manifest__.py</code> que se debe cargar.</p>
<p>Por último, realiza todo el proceso y actualiza el módelo, podrás ver las vistas que se han definido.</p>
<figure align="center">
  <a class="glightbox" href="../imgs/desarrollo/HolaMundoV3_funcionando.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/desarrollo/HolaMundoV3_funcionando.png" width="75%" /></a>
  <figcaption>Hola Mundo V3 funcionando</figcaption>
</figure>
<p>Hasta aquí la creación de modelos sencillos, ahora que hemos visto como crearlo y somos capaces de identificar estructuras y procesos para crear y actualizar módulos, vamos a profundizar en las características que los definen en las siguientes secciones.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.instant", "navigation.instant.progress", "toc.follow", "navigation.top", "content.code.copy"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>