
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Ejemplo guiado de desarrollo de módulo de gestión de proyectos en Odoo">
      
      
      
        <link rel="canonical" href="https://sergio-apuntes.github.io/sge/4_2_EjemploCamposBasicos/">
      
      
        <link rel="prev" href="../4_1_EjemploCreacionModeloBasico/">
      
      
        <link rel="next" href="../4_3_EjemploCamposComputados/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>4.2. Campos básicos y relacionales - Apuntes Sistemas de Gestión Empresarial</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#campos-basicos-y-parametros" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Apuntes Sistemas de Gestión Empresarial" class="md-header__button md-logo" aria-label="Apuntes Sistemas de Gestión Empresarial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apuntes Sistemas de Gestión Empresarial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              4.2. Campos básicos y relacionales
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Apuntes Sistemas de Gestión Empresarial" class="md-nav__button md-logo" aria-label="Apuntes Sistemas de Gestión Empresarial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Apuntes Sistemas de Gestión Empresarial
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    1 ERP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            1 ERP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción a Odoo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_2_IntroduccionERP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.2. Introducción a la Gestión Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_3_IT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.3. Informática en la Gestión Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_4_ERP_CRM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.4. ERP-CRM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_5_ERP_actuales/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.5. Revisión de ERPs Actuales
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_6_ERP_Libres_Privativos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.6. ERPs Propietarios vs ERPs de Código Abierto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_7_CRM_Actuales/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.7. CRM Actual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_8_Terminolog%C3%ADa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.8. Terminología ERP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2 Instalacion de Odoo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            2 Instalacion de Odoo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_1_InstalarOdoo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.1. Instalación de Odoo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_2_InstalarDocker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.2. Instalación con docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_3_InstalarUbuntu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.3. Instalación en Ubuntu
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    3 Desarrollo con odoo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            3 Desarrollo con odoo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_1_ArquitecturaOdoo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1. Arquitectura de Odoo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_2_PrimerModulo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2. Primer módulo en Odoo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_3_Modulos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.3. Los módulos en Odoo
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    4 Desarrollo de un módulo de gestión de proyectos
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            4 Desarrollo de un módulo de gestión de proyectos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_1_EjemploCreacionModeloBasico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.1. Creación de un modelo básico, vistas, menús y actions.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    4.2. Campos básicos y relacionales
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    4.2. Campos básicos y relacionales
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#campos-basicos-y-parametros" class="md-nav__link">
    <span class="md-ellipsis">
      Campos básicos y parámetros
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Campos básicos y parámetros">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo-de-campos-basicos" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo de campos básicos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizando-la-vista-en-odoo" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizando la vista en Odoo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relaciones" class="md-nav__link">
    <span class="md-ellipsis">
      Relaciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#campos-relacionales-many2one" class="md-nav__link">
    <span class="md-ellipsis">
      Campos relacionales: Many2one
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#campos-relacionales-one2many" class="md-nav__link">
    <span class="md-ellipsis">
      Campos relacionales: One2many
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#campos-relacionales-many2many" class="md-nav__link">
    <span class="md-ellipsis">
      Campos relacionales: Many2many
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_3_EjemploCamposComputados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.3. Campos básicos computados.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_4_EjemploExcepcionesMensajes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.4. Lanzar excepciones y añadir mensajes de log.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_5_EjemploCamposComputadosRelacionales/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.5. Campos computados relacionales
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_6_EjemploCamposValoresDefecto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.6. Campos con valores por defecto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_7_EjemploHerencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.7. Herencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_8_EjemploMejorandoVistas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.8. Mejorando vistas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_9_EjemploDatosDemo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.9. Datos de demostración
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#campos-basicos-y-parametros" class="md-nav__link">
    <span class="md-ellipsis">
      Campos básicos y parámetros
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Campos básicos y parámetros">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo-de-campos-basicos" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo de campos básicos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizando-la-vista-en-odoo" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizando la vista en Odoo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relaciones" class="md-nav__link">
    <span class="md-ellipsis">
      Relaciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#campos-relacionales-many2one" class="md-nav__link">
    <span class="md-ellipsis">
      Campos relacionales: Many2one
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#campos-relacionales-one2many" class="md-nav__link">
    <span class="md-ellipsis">
      Campos relacionales: One2many
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#campos-relacionales-many2many" class="md-nav__link">
    <span class="md-ellipsis">
      Campos relacionales: Many2many
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>4.2. Campos básicos y relacionales</h1>

<p>Seguimos con el ejemplo creado en la sección anterior y en este apartado veremos cómo añadir distintos <a href="https://www.odoo.com/documentation/18.0/es/applications/studio/fields.html">campos básicos y relaciones</a> a nuestros modelos en Odoo:. No nos centraremos en vistas avanzadas, sino en ver la relación entre modelos y cómo Odoo toma vistas por defecto, además de cómo podemos modificarlas un poquito.</p>
<p>Tenemos un modelo <code>tareas_sergio</code> con dos campos propios y dos campos de tipo carácter llamado <code>name</code> y <code>descripcion</code>. </p>
<div class="admonition note">
<p class="admonition-title">Documentación de desarrollo ORM</p>
<p>Puedes consultar la <a href="https://www.odoo.com/documentation/18.0/developer/reference/orm.html">documentación de desarrollo de Odoo</a> para más información sobre el ORM y los campos disponibles.</p>
</div>
<h2 id="campos-basicos-y-parametros">Campos básicos y parámetros</h2>
<p>Al crear un campo de tipo carácter, puedes añadir parámetros como:</p>
<ul>
<li><strong>label</strong>: Si no se indica, la etiqueta será el nombre del campo.</li>
<li><strong>readonly</strong>: Para hacerlo de solo lectura.</li>
<li><strong>required</strong>: Para hacerlo obligatorio.</li>
<li><strong>help</strong>: Mensaje de ayuda, por ejemplo: "Introduzca el nombre".</li>
</ul>
<p>Cuando modificas el modelo, debes reiniciar Docker y actualizar el módulo para aplicar los cambios.</p>
<h3 id="ejemplo-de-campos-basicos">Ejemplo de campos básicos</h3>
<p>Supongamos que añadimos los siguientes campos al modelo <code>tareas_sergio</code>, pero añadiendo etiquetas, ayuda y haciendo que algún campo sea requerido:</p>
<ul>
<li><code>creation_date</code>: tipo <code>Date</code></li>
<li><code>start_date</code>: tipo <code>Datetime</code></li>
<li><code>end_date</code>: tipo <code>Datetime</code></li>
<li><code>is_done</code>: tipo <code>Boolean</code></li>
</ul>
<p>Vamos a añadir estos campos, si es necesario revisando la documentación de Odoo sobre los <a href="https://www.odoo.com/documentation/18.0/es/developer/reference/backend/orm.html#basic-fields">tipos de campos</a>. Añadimos también características indicadas y modificamos los campos ya existente con estos parámetros</p>
<details class="note">
<summary>models.py</summary>
<div class="language-py highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">odoo</span> <span class="kn">import</span> <span class="n">models</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">api</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="k">class</span> <span class="nc">tareas_sergio</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">_name</span> <span class="o">=</span> <span class="s1">&#39;gestion_tareas_sergio.tareas_sergio&#39;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">_description</span> <span class="o">=</span> <span class="s1">&#39;gestion_tareas_sergio.tareas_sergio&#39;</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Nombre&quot;</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Introduzca el nombre&quot;</span><span class="p">)</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">descripcion</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Descripción&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Breve descripción de la tarea&quot;</span><span class="p">)</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n">fecha_creacion</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Date</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Fecha Creación Tarea&quot;</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Fecha en la que se dió de alta la tarea&quot;</span><span class="p">)</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="n">fecha_ini</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Datetime</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Fecha Inicio&quot;</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Fecha en la que se inicia la tarea&quot;</span><span class="p">)</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="n">fecha_fin</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Datetime</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Fecha Final&quot;</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Fecha en la que se finaliza la tarea&quot;</span><span class="p">)</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="n">finalizado</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Boolean</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Finalizado&quot;</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Indica si la tarea ha sido finalizada o no&quot;</span><span class="p">)</span>
</span></code></pre></div>
</details>
<p>Una vez añadidos, comprobamos que todo funciona bien reinstalando el módulo. Recuerda reiniciar el servicio y actualizar el módulo tras modificar los modelos.</p>
<p>Actualizamos y comprobamos que tenemos los nuevos campos. Comprobamos que sale la ayuda y que los campos requeridos funcionan como tal.</p>
<h3 id="actualizando-la-vista-en-odoo">Actualizando la vista en Odoo</h3>
<p>Por defecto, Odoo crea una vista de tipo formulario con todos los campos. </p>
<p>Si entramos en esta vista, veremos que es muy pobre y que normalmente no esta ajustada de forma coherente. Para personalizar la vista, vamos a editar el archivo de vistas <em>XML</em> y añade los campos dentro de una etiqueta <code>&lt;group&gt;</code>.</p>
<p>Así pues, para crear la vista, <strong>vamos a copiar y pegar</strong> la vista que ya tenemos en formato <strong><code>list</code></strong> y la vamos a renombrar como tipo <strong><code>form</code></strong> y donde tenemos las etiquetas <code>&lt;list&gt;</code> vamos a tener <code>&lt;form&gt;</code>, <code>&lt;sheet&gt;</code> y <code>&lt;group&gt;</code> </p>
<p>Observa el siguiente código y verás que no todos los campos aparecen en las definiciones. Si todo esta correcto, este ejemplo en el formato listado, aparecerán 3 campos y en el formato formulario aparecerán 5 campos.</p>
<p>Como siempre el nombre del modelo puede ser el que quieras, pero se recomienda seguir una misma nomenclatura durante todo el proyecto y el modelo, debemos indicar correctamente el nombre del modelo definido. Si nos equivocamos en el nombre del modelo, mostrará los formularios por defecto</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="cm">&lt;!-- explicit list view definition --&gt;</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">  </span><span class="nt">&lt;record</span><span class="w"> </span><span class="na">model=</span><span class="s">&quot;ir.ui.view&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;tareas_list&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">  </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>gestion_tareas_sergio.tareas_sergio.list<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">  </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;model&quot;</span><span class="nt">&gt;</span>gestion_tareas_sergio.tareas_sergio<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">  </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;arch&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;xml&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="nt">&lt;list&gt;</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">      </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">      </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;descripcion&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">      </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;finalizado&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">    </span><span class="nt">&lt;/list&gt;</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">  </span><span class="nt">&lt;/field&gt;</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="nt">&lt;/record&gt;</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="cm">&lt;!-- explicit FORM view definition --&gt;</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="nt">&lt;record</span><span class="w"> </span><span class="na">model=</span><span class="s">&quot;ir.ui.view&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;tareas_form&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="w">  </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>gestion_tareas_sergio.tareas_sergio.form<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="w">  </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;model&quot;</span><span class="nt">&gt;</span>gestion_tareas_sergio.tareas_sergio<span class="nt">&lt;/field&gt;</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="w">  </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;arch&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;xml&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="w">    </span><span class="nt">&lt;form&gt;</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="w">      </span><span class="nt">&lt;sheet&gt;</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="w">        </span><span class="nt">&lt;group&gt;</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="w">          </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="w">          </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;descripcion&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="w">          </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;fecha_creacion&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="w">          </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;fecha_ini&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="w">          </span><span class="cm">&lt;!-- &lt;field name=&quot;fecha_fin&quot;/&gt; --&gt;</span>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a><span class="w">          </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;finalizado&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="w">        </span><span class="nt">&lt;/group&gt;</span>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a><span class="w">      </span><span class="nt">&lt;/sheet&gt;</span>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a><span class="w">    </span><span class="nt">&lt;/form&gt;</span>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="w">  </span><span class="nt">&lt;/field&gt;</span>
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a><span class="nt">&lt;/record&gt;</span>
</span></code></pre></div>
<p>Comprueba que todo funciona correctamente y que puedes introducir valores en todos los campos.</p>
<h2 id="relaciones">Relaciones</h2>
<p>Las relaciones entre los modelos (en definitiva, entre las tablas de la base de datos) también se simplifican gracias al <strong>ORM</strong>. De esta manera, las relaciones uno a muchos se implementan en Odoo mediante el campo <strong><code>Many2one</code></strong> y las relaciones muchos a muchos mediante <strong><code>Many2many</code></strong>. Las relaciones muchos a muchos, en una base de datos relacional, implican una tercera tabla intermedia, pero en Odoo no tenemos que preocuparnos por estos detalles si no queremos, ya que el mapeo de objetos lo detectará y creará las tablas, claves y restricciones de integridad necesarias. </p>
<h3 id="campos-relacionales-many2one">Campos relacionales: Many2one</h3>
<p>Vamos a comprobar cómo podemos establecer una relación <strong><code>Many2one</code></strong>, para ello vamos a crear un nuevo modelo llamado <strong>sprint</strong> que después relacionaremos con las tareas.</p>
<div class="admonition nota">
<p class="admonition-title">Sprints y tareas</p>
<p>Un <em>sprint</em> es un ciclo de trabajo corto y repetitivo, típicamente de 1 a 4 semanas, en el que:</p>
<ul>
<li>Se planifican tareas específicas (historias de usuario, bugs, mejoras).</li>
<li>Se ejecutan esas tareas con un objetivo claro.</li>
<li>Se revisa el trabajo realizado al final del sprint.</li>
<li>Se reflexiona sobre cómo mejorar en el siguiente sprint (retrospectiva).</li>
</ul>
<p>Un <em>sprint</em> contiene varias <em>tareas</em> (también llamadas issues, tickets o historias de usuario) que son las  unidades de trabajo que deben completarse dentro del sprint.</p>
</div>
<p>Así pues, vamos a crear un nuevo modelo <code>sprint</code> con los siguientes campos:</p>
<ul>
<li>nombre</li>
<li>descripción</li>
<li>fecha_inicio</li>
<li>fecha_fin</li>
</ul>
<p>Intenta generar el código, es muy sencillo, puesto que la mayoría de los campos los tenemos en el modelo de tareas, y antes de introducir la relación, asegura que todo es correcto reiniciando y reinstalando.</p>
<details class="note">
<summary>modelo sprint en models.py</summary>
</details>
<div class="language-py highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">class</span> <span class="nc">spints_sergio</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="n">_name</span> <span class="o">=</span> <span class="s1">&#39;gestion_tareas_sergio.sprints_sergio&#39;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    <span class="n">_description</span> <span class="o">=</span> <span class="s1">&#39;gestion_tareas_sergio.sprints_sergio&#39;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Nombre&quot;</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Introduzca el nombre&quot;</span><span class="p">)</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="n">descripcion</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Descripción&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Breve descripción de la tarea&quot;</span><span class="p">)</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    <span class="n">fecha_ini</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Datetime</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Fecha Inicio&quot;</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Fecha en la que se inicia la tarea&quot;</span><span class="p">)</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>    <span class="n">fecha_fin</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Datetime</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Fecha Final&quot;</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Fecha en la que se finaliza la tarea&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>Una vez tenemos el nuevo modelo, para relacionar tareas con sprints, añadimos un campo <code>sprint_id</code> en el modelo <code>tareas_sergio</code> de tipo <code>Many2one</code> de la siguiente forma:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">sprint</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">&#39;gestion_tareas_sergio.sprints_sergio&#39;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s1">&#39;Sprint relacionado&#39;</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s1">&#39;set null&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Sprint relacionado&#39;</span><span class="p">)</span>
</span></code></pre></div>
<p>Este nuevo campo significa:</p>
<ul>
<li><code>sprint</code>: es el nombre del campo en el modelo actual (<code>tareas_sergio</code>).</li>
<li><code>fields.Many2one(...)</code>: define una relación de muchos a uno con otro modelo.</li>
<li><code>'gestion_tareas_sergio.sprints_sergio'</code>: <strong>indica el modelo</strong> destino de la relación (en este caso, el modelo de sprints).</li>
<li><code>string='Sprint relacionado'</code>: etiqueta que se mostrará en la interfaz de usuario para este campo.</li>
<li><code>ondelete='set null'</code>: si se elimina el sprint relacionado, este campo se establecerá a <code>null</code> (la tarea no se elimina, solo pierde la relación). Otros valores podrían ser: <code>cascade</code>, <code>restrict</code> (Impide eliminar el registro relacionado si hay registros que lo usan), <code>set default</code> y <code>no action</code>  (No hace nada automáticamente. Puede causar errores si hay restricciones SQL). </li>
<li><code>help='Sprint relacionado'</code>: texto de ayuda que aparece al pasar el cursor sobre el campo.</li>
</ul>
<p>De esta manera, con esta simple líneas por medio de <strong>ORM</strong> le estamos informado a Odoo de la relación entre ambos modelos.</p>
<p>Es el momento de probar que todo funciona bien aunque para ello como mínimo debemos:</p>
<ul>
<li>Añadir el nuevo campo en la vista formulario, por ejemplo</li>
<li>Añadir nnuevos permisos correspondientes en el archivo de seguridad para poder acceder al nuevo modelo sprints</li>
</ul>
<details class="note">
<summary>ir.model.access.csv</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>access_gestion_tareas_sergio_tareas_sergio,acceso_tareas_sergio,model_gestion_tareas_sergio_tareas_sergio,base.group_user,1,1,1,1
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>access_gestion_tareas_sergio_sprints_sergio,acceso_sprints_sergio,model_gestion_tareas_sergio_sprints_sergio,base.group_user,1,1,1,1
</span></code></pre></div>
</details>
<p>Probamos y observamos que ya tenemos el nuevo campo, ya podemos seleccionar e incluso crear nuevos <em>sprints</em> desde aqui aunque no tenemos vistas del modelo.</p>
<p>Vamos a configurar para que aparezca en el menú el nuevo modelo al igual que lo hace el modelo de tareas observaremos que si no definimos vistas entonces Odoo mostrará las vistas por defecto, y si quieremos cambiar algo en estas vistas, simplemetne las definimos..</p>
<h3 id="campos-relacionales-one2many">Campos relacionales: One2many</h3>
<p>La relación <strong>One2many</strong> (uno a muchos) es un concepto fundamental en bases de datos y frameworks como Odoo. Este tipo de relación indica que un registro de un modelo puede estar vinculado a múltiples registros de otro modelo. Por ejemplo, una factura (modelo padre) puede tener varias líneas de factura (modelo hijo). En la práctica, esto nos permite a partir de un registro detalle, obtener todos los registros que apunta a este., o sea, que se crea un un campo especial que permite asociar una lista de registros hijos al registro padre.</p>
<p>En Odoo, el campo <code>One2many</code> se define especificando el modelo relacionado y el campo inverso que conecta ambos modelos. Esto facilita la navegación y gestión de datos relacionados, permitiendo mostrar, agregar o eliminar registros hijos directamente desde el formulario del registro padre. Esta relación es clave para estructurar datos complejos y mantener la integridad referencial dentro de la aplicación.</p>
<p>Vamos a crear la relación inversa a la creada anteriormente, mediante la creación de un nuevo campo en el modelo <code>sprint</code> que se llame por ejemplo <code>tareas</code> que será de tipo  <code>One2many</code> como sigue:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">tareas</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">One2many</span><span class="p">(</span><span class="s1">&#39;gestion_tareas_sergio.tareas_sergio&#39;</span><span class="p">,</span> <span class="s1">&#39;sprins&#39;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s1">&#39;Tareas&#39;</span><span class="p">)</span>
</span></code></pre></div>
<p>La línea anterior define un campo llamado <code>tareas</code>  de tipo <code>One2many</code>, lo que significa que permite asociar múltiples registros del modelo <code>'gestion_tareas_sergio.tareas_sergio'</code>, utilizando el campo inverso <code>'sprins'</code> en el modelo de tareas para establecer la relación. El campo inverso es necesario e imprescidible y es el campo que ha creado la relación <code>Many2one</code> en el modelo indicado.</p>
<p>El parámetro <code>string='Tareas'</code> especifica la etiqueta que se mostrará en la interfaz de usuario para este campo. </p>
<p>Gracias a esta definición, desde el formulario del modelo principal (por ejemplo, un sprint), se pueden visualizar y gestionar todas las tareas relacionadas, facilitando la administración de la información y la navegación entre registros vinculados.</p>
<p>Veamos a continuación un ejemplo de uso de esta relación: </p>
<figure align="center">
  <a class="glightbox" href="../imgs/ejemploT/13_EjemploOne2Many.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/ejemploT/13_EjemploOne2Many.png" width="75%" /></a>
  <figcaption>Ejemplo de relación One2many</figcaption>
</figure>
<h3 id="campos-relacionales-many2many">Campos relacionales: Many2many</h3>
<p>Los <strong>campos relacionales Many2many</strong> permiten establecer una relación de muchos a muchos entre dos modelos en una base de datos o framework como Odoo. Esto significa que un registro de un modelo puede estar vinculado a varios registros de otro modelo, y viceversa. Por ejemplo, un estudiante puede estar inscrito en varios cursos, y cada curso puede tener varios estudiantes asociados.</p>
<p>En Odoo, el campo <code>Many2many</code> se utiliza para crear este tipo de relación, facilitando la gestión y visualización de datos complejos donde la asociación entre registros es múltiple en ambos sentidos. Este campo suele representarse en la interfaz de usuario mediante listas o tablas donde se pueden seleccionar y gestionar fácilmente los registros relacionados.</p>
<p>Para nuestro utilizar este tipo de relaciones en nuestro ejemplo, supongamos que definimos un modelo que sea <strong>Tecnologías</strong> de forma que podamos establecer un listado de las diferentes tecnologías que pueden aplicarse a un proyecto, por ejemplo <em>python</em>, <em>java</em>, <em>javascript</em>, etc... De esta forma un proyecto puede implementarse usando muchas tecnologías y cada tecnología puede ser usada en muchos proyectos.</p>
<p>Vamos pues a crar un modelo <strong>"Tecnología"</strong> que tenga los siguientes campos:</p>
<ul>
<li>nombre</li>
<li>descripción</li>
<li>logo: donde incluiremos el logotipo de la tecnología, y así comprobamos como funciona un tampo de tipo imagen. Busca información y crea un campo imagen de 200x200 pixel máximo.</li>
</ul>
<details class="note">
<summary>nuevo modelo tecnología en models.py</summary>
<div class="language-py highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">class</span> <span class="nc">tecnologias_sergio</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>  <span class="n">_name</span> <span class="o">=</span> <span class="s1">&#39;gestion_tareas_sergio.tecnologias_sergio&#39;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>  <span class="n">_description</span> <span class="o">=</span> <span class="s1">&#39;gestion_tareas_sergio.tecnologias_sergio&#39;</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>  <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Nombre&quot;</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Introduzca el nombre de la tecnología&quot;</span><span class="p">)</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>  <span class="n">descripcion</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Descripción&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Breve descripción de la tecnología&quot;</span><span class="p">)</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>  <span class="n">logo</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">image</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Logo&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Logo de la tecnología&quot;</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span> <span class="n">max_height</span><span class="o">=</span><span class="mi">256</span><span class="p">)</span>
</span></code></pre></div>
</details>
<p>y ahora creamos campos en tareas y tecnologías para generar la relación <strong>muchos a muchos</strong>.</p>
<p>Para asociar tareas y tecnologías, añadiimos en <code>tareas</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>    <span class="n">rel_tecnologias</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2many</span><span class="p">(</span> 
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>        <span class="n">comodel_name</span><span class="o">=</span><span class="s1">&#39;gestion_tareas_sergio.tecnologias_sergio&#39;</span><span class="p">,</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>        <span class="n">relation</span><span class="o">=</span><span class="s1">&#39;relacion_tareas_tecnologias&#39;</span><span class="p">,</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>        <span class="n">column1</span><span class="o">=</span><span class="s1">&#39;rel_tareas&#39;</span><span class="p">,</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>        <span class="n">column2</span><span class="o">=</span><span class="s1">&#39;rel_tecnologias&#39;</span><span class="p">,</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>        <span class="n">string</span><span class="o">=</span><span class="s1">&#39;Tecnologías&#39;</span><span class="p">)</span>
</span></code></pre></div>
<p>donde se define un campo llamado <code>rel_tecnologias</code> utilizando el tipo de campo <code>Many2many</code> siendo los parametros utilizados los siguientes:</p>
<ul>
<li><strong>comodel_name</strong>: indica el modelo con el que se realiza la relación muchos a muchos, en nuestro caso <code>'gestion_tareas_sergio.tecnologias_sergio'</code> .</li>
<li><strong>relation</strong>, <code>'relacion_tareas_tecnologias'</code>, indica el nombre de la tabla intermedia que se utilizará en la base de datos para gestionar la relación entre tareas y tecnologías. </li>
<li><strong>column1</strong> y <strong>column1</strong>: <code>'rel_tareas'</code> y <code>'rel_tecnologias'</code>, especifican los nombres de las columnas en la tabla intermedia que referencian a cada uno de los modelos relacionados.</li>
<li>El parámetro <code>string='Tecnologías'</code> define la etiqueta que se mostrará en la interfaz de usuario para este campo. </li>
</ul>
<p>Para comprobar que funciona, realizamos los pasos de siempre:</p>
<ul>
<li>Incluimos el nuevo modelo en el fichero de seguridad</li>
<li>Añadimos el nuevo campo en la vista</li>
<li>Añadimos un menú y un action para poder acceder directamente. </li>
<li>Reiniciamos y actualizamos.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">widgets</p>
<p>Al añadir el campo en la vista, podemos hacerlo de forma habitual</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="o">&lt;</span><span class="n">field</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;rel_tecnologias&quot;</span><span class="o">/&gt;</span>
</span></code></pre></div>
<p>o podemos indicar que queremos un <a href="https://www.odoo.com/documentation/18.0/es/applications/studio/fields.html?highlight=widgets#many2many-many2many"><em>widget</em></a> especifico de visualización, en este uno que nos permite ver cada tecnología como un <em>tag</em></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="o">&lt;</span><span class="n">field</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;rel_tecnologias&quot;</span> <span class="n">widget</span><span class="o">=</span><span class="s2">&quot;many2many_tags&quot;</span><span class="o">/&gt;</span>
</span></code></pre></div>
<p>Comprueba la diferencia entre ambos</p>
<p><strong>PONER ENLACE DE WIDGETS A LOS APUNTES DE CASTILLO QUE EXPLICAN MUY BIEN LOS WIDGETS</strong></p>
</div>
<p>Y en <code>tecnologías</code> hacemos exactamente lo mismo, pero apuntanto a tareas:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>    <span class="n">rel_tareas</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2many</span><span class="p">(</span> 
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>        <span class="n">comodel_name</span><span class="o">=</span><span class="s1">&#39;gestion_tareas_sergio.tareas_sergio&#39;</span><span class="p">,</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>        <span class="n">relation_name</span><span class="o">=</span><span class="s1">&#39;relacion_tareas_tecnologias&#39;</span><span class="p">,</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>        <span class="n">column1</span><span class="o">=</span><span class="s1">&#39;rel_tecnologias&#39;</span><span class="p">,</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>        <span class="n">column2</span><span class="o">=</span><span class="s1">&#39;rel_tareas&#39;</span><span class="p">,</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>        <span class="n">string</span><span class="o">=</span><span class="s1">&#39;Tareas&#39;</span><span class="p">)</span>
</span></code></pre></div>
<p>Gracias a esta configuración, es posible seleccionar y gestionar fácilmente las tecnologías asociadas a una tarea desde el formulario correspondiente, permitiendo una administración flexible y eficiente de las relaciones entre tareas y tecnologías.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.instant", "navigation.instant.progress", "toc.follow", "navigation.top", "content.code.copy"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>